(function(t){function e(e){for(var a,r,s=e[0],u=e[1],c=e[2],l=0,p=[];l<s.length;l++)r=s[l],o[r]&&p.push(o[r][0]),o[r]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(t[a]=u[a]);d&&d(e);while(p.length)p.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],a=!0,r=1;r<n.length;r++){var s=n[r];0!==o[s]&&(a=!1)}a&&(i.splice(e--,1),t=u(u.s=n[0]))}return t}var a={},r={app:0},o={app:0},i=[];function s(t){return u.p+"js/"+({}[t]||t)+"."+{"chunk-128095d2":"4481f252","chunk-b3fd6b88":"7971f5c9"}[t]+".js"}function u(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.e=function(t){var e=[],n={"chunk-128095d2":1};r[t]?e.push(r[t]):0!==r[t]&&n[t]&&e.push(r[t]=new Promise(function(e,n){for(var a="css/"+({}[t]||t)+"."+{"chunk-128095d2":"82174a45","chunk-b3fd6b88":"31d6cfe0"}[t]+".css",o=u.p+a,i=document.getElementsByTagName("link"),s=0;s<i.length;s++){var c=i[s],l=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(l===a||l===o))return e()}var p=document.getElementsByTagName("style");for(s=0;s<p.length;s++){c=p[s],l=c.getAttribute("data-href");if(l===a||l===o)return e()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=e,d.onerror=function(e){var a=e&&e.target&&e.target.src||o,i=new Error("Loading CSS chunk "+t+" failed.\n("+a+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=a,delete r[t],d.parentNode.removeChild(d),n(i)},d.href=o;var h=document.getElementsByTagName("head")[0];h.appendChild(d)}).then(function(){r[t]=0}));var a=o[t];if(0!==a)if(a)e.push(a[2]);else{var i=new Promise(function(e,n){a=o[t]=[e,n]});e.push(a[2]=i);var c,l=document.createElement("script");l.charset="utf-8",l.timeout=120,u.nc&&l.setAttribute("nonce",u.nc),l.src=s(t),c=function(e){l.onerror=l.onload=null,clearTimeout(p);var n=o[t];if(0!==n){if(n){var a=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src,i=new Error("Loading chunk "+t+" failed.\n("+a+": "+r+")");i.type=a,i.request=r,n[1](i)}o[t]=void 0}};var p=setTimeout(function(){c({type:"timeout",target:l})},12e4);l.onerror=l.onload=c,document.head.appendChild(l)}return Promise.all(e)},u.m=t,u.c=a,u.d=function(t,e,n){u.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},u.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},u.t=function(t,e){if(1&e&&(t=u(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)u.d(n,a,function(e){return t[e]}.bind(null,a));return n},u.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return u.d(e,"a",e),e},u.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},u.p="",u.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var p=0;p<c.length;p++)e(c[p]);var d=l;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},"28be":function(t,e,n){"use strict";var a=n("b98e"),r=n.n(a);r.a},"3c1f":function(t,e,n){},"3cb0":function(t,e,n){t.exports=function(){return new Worker(n.p+"cfd32d773c380bae7f0d.worker.js")}},4678:function(t,e,n){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function r(t){var e=o(t);return n(e)}function o(t){var e=a[t];if(!(e+1)){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}return e}r.keys=function(){return Object.keys(a)},r.resolve=o,t.exports=r,r.id="4678"},"60f6":function(t,e,n){},b98e:function(t,e,n){},c1df1:function(t,e,n){"use strict";var a=n("60f6"),r=n.n(a);r.a},cd49:function(t,e,n){"use strict";n.r(e);var a={};n.r(a),n.d(a,"BooleanValueNode",function(){return ct}),n.d(a,"NumberValueNode",function(){return lt}),n.d(a,"StringValueNode",function(){return pt}),n.d(a,"IndexValueNode",function(){return dt});var r=n("2b0e"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"d-flex flex-column",staticStyle:{width:"100%",height:"100%"}},[n("navbar",{staticClass:"flex-shrink",attrs:{loadedRows:t.results.length},on:{action:t.onAction}}),"settings"===t.$route.name?n("settings",{staticClass:"flex-fill",model:{value:t.settings,callback:function(e){t.settings=e},expression:"settings"}}):"visualisation"===t.$route.name?n("visualisation",{staticClass:"flex-fill",attrs:{results:t.results}}):"preview"===t.$route.name?n("preview",{staticClass:"flex-fill",on:{error:t.onError}}):n("baklava-editor",{staticClass:"flex-fill",attrs:{plugin:t.plugin}}),n("notification",{attrs:{header:"Error"},model:{value:t.showErrorNotification,callback:function(e){t.showErrorNotification=e},expression:"showErrorNotification"}},[t._v(t._s(t.errorMessage))]),n("progress-modal",{attrs:{open:t.calculating,progress:t.progress},on:{cancel:t.cancelCalculation}}),n("input",{ref:"fileinput",staticStyle:{display:"none"},attrs:{type:"file",accept:"application/json"},on:{change:t.loadFile}})],1)},i=[],s=n("9ab4"),u=n("60a3"),c=n("9f16"),l=n("dac5"),p=n("261c"),d=n("9e67"),h=n.n(d),f=function(){function t(t,e){this.randomInstance=new h.a,this.seed=t,this.discrete=e,this.seed&&(this.randomInstance=new h.a(this.seed))}return t.prototype.uniform=function(t,e){return this.finalize(this.rng(t).floating(e))},t.prototype.normal=function(t,e){return this.finalize(this.rng(t).normal(e))},t.prototype.rng=function(t){return this.seed&&void 0!==t?new h.a(this.seed+t):this.randomInstance},t.prototype.finalize=function(t){return this.discrete?Math.round(t):t},t}(),v=f,b=function(t){function e(){var e=t.call(this)||this;return e.type="UniformNode",e.name=e.type,e.rng=null,e.addOutputInterface("Output",{type:"number"}),e.addInputInterface("Seed","InputOption","",{type:"string"}),e.addInputInterface("Min","NumberOption",0,{type:"number"}),e.addInputInterface("Max","NumberOption",10,{type:"number"}),e.addInputInterface("Discrete","CheckboxOption",!0,{type:"boolean"}),e}return s["c"](e,t),e.prototype.prepare=function(){var t=this.getInterface("Seed").value,e=this.getInterface("Discrete").value;this.rng=new v(t,e)},e.prototype.calculate=function(){var t=this.getInterface("Min").value,e=this.getInterface("Max").value;this.getInterface("Output").value=this.rng.uniform(this.state.index,{min:t,max:e,fixed:8})},e}(l["Node"]),m=b,g=function(t){function e(){var e=t.call(this)||this;return e.type="NormalNode",e.name=e.type,e.rng=null,e.addOutputInterface("Output",{type:"number"}),e.addInputInterface("Seed","InputOption","",{type:"string"}),e.addInputInterface("Mean","NumberOption",0,{type:"number"}),e.addInputInterface("Std. Dev.","NumberOption",10,{type:"number"}),e.addInputInterface("Discrete","CheckboxOption",!0,{type:"boolean"}),e}return s["c"](e,t),e.prototype.prepare=function(){var t=this.getInterface("Seed").value,e=this.getInterface("Discrete").value;this.rng=new v(t,e)},e.prototype.calculate=function(){var t=this.getInterface("Mean").value,e=this.getInterface("Std. Dev.").value;this.getInterface("Output").value=this.rng.normal(this.state.index,{mean:t,dev:e})},e}(l["Node"]),y=g,I=function(t){function e(){var e=t.call(this)||this;return e.type="ExponentialNode",e.name=e.type,e.rng=null,e.discrete=!1,e.addOutputInterface("Output",{type:"number"}),e.addInputInterface("Seed","InputOption","",{type:"string"}),e.addInputInterface("Lambda","NumberOption",.1,{type:"number"}),e.addInputInterface("Discrete","CheckboxOption",!0,{type:"boolean"}),e}return s["c"](e,t),e.prototype.prepare=function(){var t=this.getInterface("Seed").value;this.discrete=this.getInterface("Discrete").value,this.rng=new v(t,!1)},e.prototype.calculate=function(){var t=this.getInterface("Lambda").value,e=this.rng.uniform(this.state.index,{fixed:8,min:0,max:1}),n=Math.log(1-e)/-t;this.getInterface("Output").value=this.discrete?Math.floor(n):n},e}(l["Node"]),C=I,O=function(t){function e(){var e=t.call(this)||this;return e.type="PercentageNode",e.name=e.type,e.rng=null,e.addInputInterface("Value","NumberOption",0,{type:"number"}),e.addInputInterface("Seed","InputOption","",{type:"string"}),e.addInputInterface("Percentage","NumberOption",5,{type:"number"}),e.addInputInterface("Discrete","CheckboxOption",!1,{type:"boolean"}),e.addOutputInterface("Output",{type:"number"}),e}return s["c"](e,t),e.prototype.prepare=function(){var t=this.getInterface("Seed").value;this.rng=new v(t,!1)},e.prototype.calculate=function(){var t=this.getInterface("Percentage").value,e=this.getInterface("Value").value,n=this.getInterface("Discrete").value,a=this.rng.normal(this.state.index,{mean:0,dev:t/200}),r=e+e*a;this.getInterface("Output").value=n?Math.round(r):r},e}(l["Node"]),j=O;function k(t,e,n){var a,r;return e<n&&(a=n,r=x(t,a,e,n),k(t,e,r-1),k(t,r+1,n)),t}function x(t,e,n,a){for(var r=t[e][0],o=n,i=n;i<a;i++)t[i][0]<r&&(w(t,i,o),o++);return w(t,a,o),o}function w(t,e,n){var a=t[e];t[e]=t[n],t[n]=a}var N=k,M=function(){function t(t){this.points=[],this.cdf=[],this.points=t.map(function(t){return[t[0],t[1]]}),N(this.points,0,this.points.length-1)}return t.prototype.integrate=function(t){var e=t,n=[];n.push([0,0]);for(var a=1;a<e.length;a++)n.push([e[a][0],.5*(e[a][1]+e[a-1][1])*(e[a][0]-e[a-1][0])]);for(a=1;a<n.length;a++)n[a][1]+=n[a-1][1];this.cdf=n},t.prototype.sample=function(t){if(t<0||t>1)return-1;var e=this.cdf,n=t*e[e.length-1][1],a=0;for(a=0;a<e.length;a++)if(e[a][1]>n)break;try{var r=(e[a-1][1]-e[a][1])/(e[a-1][0]-e[a][0]),o=(n-e[a][1])/r+e[a][0];return o/this.cdf[this.cdf.length-1][0]}catch(i){throw new Error("Couldn't calculate sample value - i is out of bounds or division with zero")}},t}(),P=M,D=function(t){function e(e){var n=t.call(this,e)||this;n.accuracy=1;for(var a=e.map(function(t){return t[0]}),r=e.map(function(t){return t[1]}),o=[],i=[],s=[],u=a.length,c=0;c<u;c++)s.push(c);s.sort(function(t,e){return a[t]<a[e]?-1:1});for(c=0;c<u;c++)o.push(a[s[c]]),i.push(r[s[c]]);return n.xs=o,n.ys=i,n.prepare(),n}return s["c"](e,t),e.prototype.prepare=function(){var t,e=this.xs,n=this.ys,a=[],r=[],o=e.length;if(e.length!==n.length)throw new Error("Need an equal count of xs and ys");if(0===e.length)throw new Error("Empty array");for(t=0;t<o-1;t++)a[t]=(n[t+1]-n[t])/(e[t+1]-e[t]);for(t=1;t<o-1;t++)a[t]*a[t-1]<0?r[t]=0:r[t]=(a[t-1]+a[t])/2;for(r[0]=a[0],r[o-1]=a[o-2],t=0;t<o-1;t++)if(0===a[t])r[t]=0,r[t+1]=0;else{var i=r[t]/a[t],s=r[t+1]/a[t],u=Math.pow(i,2)+Math.pow(s,2),c=3/Math.sqrt(u);u>9&&(r[t]=c*i*a[t],r[t+1]=c*s*a[t])}this.xs=e,this.ys=n,this.ms=r},e.prototype.interpolate=function(t){var e=this.xs.length,n=this.xs,a=this.ys,r=this.ms,o=0;for(o=0;o<e;o++)if(t<=n[o]){o-=1;break}o=Math.max(o,0),o=Math.min(o,e-2);var i=n[o+1]-n[o],s=(t-n[o])/i,u=Math.pow(s,2),c=Math.pow(s,3),l=2*c-3*u+1,p=c-2*u+s,d=-2*c+3*u,h=c-u,f=l*a[o]+p*i*r[o]+d*a[o+1]+h*i*r[o+1];return f},e.prototype.curve=function(){for(var t=[],e=this.xs[0],n=this.xs[this.xs.length-1],a=e;a<=n;a+=this.accuracy)t.push([a,this.interpolate(a)]);return t},e}(P),_=D,S=function(t){function e(e){return t.call(this,e)||this}return s["c"](e,t),e.prototype.interpolate=function(t){var e=this.points;if(t>=e[e.length-1][0])return e[e.length-1][1];var n=0;for(n=0;n<e.length;n++)if(t<e[n][0])break;var a=(e[n-1][1]-e[n][1])/(e[n-1][0]-e[n][0]),r=a*t+e[n][1]-a*e[n][0];return r},e.prototype.curve=function(){for(var t=this.points,e=[],n=0;n<t[t.length-1][0];n++)e.push([n,this.interpolate(n)]);return e},e}(P),V=S,E=function(t){function e(){var e=t.call(this)||this;return e.type="CustomNode",e.name=e.type,e.rng=null,e.defaultPoints=[[0,0],[50,50],[100,20]],e.defaultMode="monotone",e.distribution=null,e.addOutputInterface("Output",{type:"number"}),e.addInputInterface("Seed","InputOption","",{type:"string"}),e.addInputInterface("Min","NumberOption",0,{type:"number"}),e.addInputInterface("Max","NumberOption",10,{type:"number"}),e.addInputInterface("Discrete","CheckboxOption",!0,{type:"boolean"}),e.addOption("Custom Distribution","ButtonOption",{points:e.defaultPoints,mode:e.defaultMode},"CustomRandomOption"),e}return s["c"](e,t),e.prototype.prepare=function(){var t=this.getInterface("Seed").value,e=this.getOptionValue("Custom Distribution");switch(this.rng=new v(t,!1),e.mode){case"monotone":this.distribution=new _(e.points);break;case"linear":this.distribution=new V(e.points);break;default:throw new Error("Invalid mode")}var n=this.distribution.curve();this.distribution.integrate(n)},e.prototype.calculate=function(){var t=this.getInterface("Min").value,e=this.getInterface("Max").value,n=this.getInterface("Discrete").value,a=this.rng.uniform(this.state.index,{fixed:8,min:0,max:1}),r=this.distribution.sample(a)*(e-t)+t;this.getInterface("Output").value=n?Math.round(r):r},e}(l["Node"]),R=E,A=function(t){function e(e){return t.call(this,e)||this}return s["c"](e,t),e.prototype.interpolate=function(t){var e=this.points;if(t>=e[e.length-1][0])return e[e.length-1][1];var n=0;for(n=0;n<e.length;n++)if(t<e[n][0])break;var a=(e[n-1][1]-e[n][1])/(e[n-1][0]-e[n][0]),r=a*t+e[n][1]-a*e[n][0];return r},e.prototype.curve=function(){for(var t=this.points,e=[],n=0;n<t[t.length-1][0];n++)e.push([n,this.interpolate(n)]);return e},e.prototype.integrate=function(){var t=this.points,e=this.cdf;e.push([0,0]);for(var n=0,a=t;n<a.length;n++){var r=a[n];e.push([r[0]+1,r[1]])}for(var o=1;o<e.length;o++)e[o][1]+=e[o-1][1]},e.prototype.sample=function(t){if(t<0||t>1)return-1;var e=this.cdf,n=t*e[e.length-1][1],a=0;for(a=0;a<e.length;a++)if(e[a][1]>n)break;var r=(e[a-1][1]-e[a][1])/(e[a-1][0]-e[a][0]),o=(n-e[a][1])/r+e[a][0];return Math.floor(o)},e}(P),$=A,B=function(t){function e(){var e=t.call(this)||this;e.type="DiscreteNode",e.name=e.type,e.rng=null,e.defaultValues=[],e.defaultValue=5,e.defaultMin=0,e.defaultMax=10,e.min=0,e.distribution=null;for(var n=e.defaultMax-e.defaultMin,a=0;a<=n;a++)e.defaultValues.push(e.defaultValue);return e.addOutputInterface("Output",{type:"number"}),e.addInputInterface("Seed","InputOption","",{type:"string"}),e.addInputInterface("Min","IntegerOption",e.defaultMin,{type:"number"}),e.addInputInterface("Max","IntegerOption",e.defaultMax,{type:"number"}),e.addOption("Discrete Distribution","ButtonOption",{values:e.defaultValues},"DiscreteRandomOption"),e}return s["c"](e,t),e.prototype.prepare=function(){var t=this.getInterface("Seed").value,e=this.getOptionValue("Discrete Distribution");this.min=this.getInterface("Min").value;var n=e.values;this.rng=new v(t,!1);var a=n.map(function(t,e){return[e,t]});this.distribution=new $(a),this.distribution.integrate(this.distribution.points)},e.prototype.calculate=function(){var t=this.rng.uniform(this.state.index,{fixed:8,min:0,max:1}),e=this.distribution.sample(t);this.getInterface("Output").value=e+this.min},e}(l["Node"]),L=B,T=function(t){function e(){var e=t.call(this)||this;return e.type="IfNode",e.name=e.type,e.addInputInterface("Condition","CheckboxOption",!1,{type:"boolean"}),e.addInputInterface("True Value",void 0,0,{type:"any"}),e.addInputInterface("False Value",void 0,0,{type:"any"}),e.addOutputInterface("Output",{type:"any"}),e}return s["c"](e,t),e.prototype.calculate=function(){var t=this.getInterface("Condition").value,e=this.getInterface("Output");e.value=t?this.getInterface("True Value").value:this.getInterface("False Value").value},e}(l["Node"]),z=T,F=function(t){function e(){var e=t.call(this)||this;return e.type="SwitchNode",e.name=e.type,e.addInputInterface("Switch","IntegerOption",0,{type:"number"}),e.addNewInterface(),e.addNewInterface(),e.addOption("Add Input","CustomButtonOption"),e.addOption("Remove Input","CustomButtonOption"),e.addOutputInterface("Output",{type:"any"}),e.hooks.load.tap(e,function(t){for(var n=0,a=Object.keys(e.inputInterfaces);n<a.length;n++){var r=a[n];"Switch"!==r&&e.removeInterface(r)}return Object.entries(t.customInterfaces).forEach(function(t){var n=t[0],a=t[1],r=a;e.addInputInterface(n,void 0,void 0,{type:"any",id:r.id})}),t}),e.hooks.save.tap(e,function(t){return t.customInterfaces={},e.interfaces.forEach(function(e,n){e.isInput&&"Switch"!==n&&(t.customInterfaces[n]={id:e.id})}),t}),e}return s["c"](e,t),e.prototype.addNewInterface=function(){var t=Object.keys(this.inputInterfaces).length;this.addInputInterface("Value "+t,void 0,void 0,{type:"any"})},e.prototype.removeLastInterface=function(){var t=Object.keys(this.inputInterfaces);t.length>2&&this.removeInterface(t[t.length-1])},e.prototype.onButtonClick=function(t){"Add Input"===t?this.addNewInterface():"Remove Input"===t&&this.removeLastInterface()},e.prototype.calculate=function(){var t=Object.keys(this.inputInterfaces),e=Math.floor(this.getInterface("Switch").value)+1,n=null;n=e<1?this.getInterface(t[1]).value:e>=t.length?this.getInterface(t[t.length-1]).value:this.getInterface(t[e]).value,this.getInterface("Output").value=n},e}(l["Node"]),U=F,W=["AND","OR","XOR","NAND","NOR","XNOR"],H=function(t){function e(){var e=t.call(this)||this;return e.type="LogicNode",e.name=e.type,e.addInputInterface("A","CheckboxOption",!0,{type:"boolean"}),e.addInputInterface("B","CheckboxOption",!0,{type:"boolean"}),e.addOption("Gatter","SelectOption",{selected:"AND",items:W}),e.addOutputInterface("Result",{type:"boolean"}),e}return s["c"](e,t),e.prototype.calculate=function(){var t=this.getInterface("A").value,e=this.getInterface("B").value,n=this.getOptionValue("Gatter").selected,a=!1;switch(n){case"AND":a=t&&e;break;case"OR":a=t||e;break;case"XOR":a=t?!e:e;break;case"NAND":a=!(t&&e);break;case"NOR":a=!(t||e);break;case"XNOR":a=t?e:!e;break}console.log(t,e,a),this.getInterface("Result").value=a},e}(l["Node"]),J=H,q=["==",">","<",">=","<="],X=function(t){function e(){var e=t.call(this)||this;return e.type="BooleanNode",e.name=e.type,e.addInputInterface("Value 1","NumberOption",0,{type:"number"}),e.addInputInterface("Value 2","NumberOption",0,{type:"number"}),e.addInputInterface("Round Values","CheckboxOption",!1,{type:"boolean"}),e.addInputInterface("Invert Output","CheckboxOption",!1,{type:"boolean"}),e.addOption("Operation","SelectOption",{selected:"==",items:q}),e.addOutputInterface("Result",{type:"boolean"}),e}return s["c"](e,t),e.prototype.calculate=function(){var t=this.getInterface("Value 1").value,e=this.getInterface("Value 2").value,n=this.getInterface("Round Values").value,a=this.getInterface("Invert Output").value,r=this.getOptionValue("Operation").selected,o=!1;switch(r){case"==":o=n?Math.round(t)===Math.round(e):t===e;break;case">":o=n?Math.round(t)>Math.round(e):t>e;break;case"<":o=n?Math.round(t)<Math.round(e):t<e;break;case">=":o=n?Math.round(t)>=Math.round(e):t>=e;break;case"<=":o=n?Math.round(t)<=Math.round(e):t<=e;break}a&&(o=!o),this.getInterface("Result").value=o},e}(l["Node"]),G=X,Z=function(t){function e(){var e=t.call(this)||this;return e.type="ConstraintNode",e.name=e.type,e.addInputInterface("Is Valid","CheckboxOption",!0,{type:"boolean"}),e}return s["c"](e,t),e}(l["Node"]),Y=Z,K=["Add","Subtract","Multiply","Divide","Sine","Cosine","Tangent","Arcsine","Arccosine","Arctangent","Power","Logarithm","Minimum","Maximum","Round","Modulo","Absolute"],Q=function(t){function e(){var e=t.call(this)||this;return e.type="MathNode",e.name=e.type,e.addInputInterface("Value 1","NumberOption",0,{type:"number"}),e.addInputInterface("Value 2","NumberOption",0,{type:"number"}),e.addOption("Operation","SelectOption",{selected:"Add",items:K}),e.addOutputInterface("Result",{type:"number"}),e}return s["c"](e,t),e.prototype.calculate=function(){var t=this.getInterface("Value 1").value,e=this.getInterface("Value 2").value,n=this.getOptionValue("Operation").selected,a=0;switch(n){case"Add":a=t+e;break;case"Subtract":a=t-e;break;case"Multiply":a=t*e;break;case"Divide":a=0!==e?t/e:0;break;case"Sine":a=Math.sin(t);break;case"Cosine":a=Math.cos(t);break;case"Tangent":a=Math.tan(t);break;case"Arcsine":a=Math.asin(t);break;case"Arccosine":a=Math.acos(t);break;case"Arctangent":a=Math.atan(t);break;case"Power":a=Math.pow(t,e);break;case"Logarithm":a=Math.log(t)/Math.log(e);break;case"Minimum":a=Math.min(t,e);break;case"Maximum":a=Math.max(t,e);break;case"Round":a=Math.round(t);break;case"Modulo":a=t%e;break;case"Absolute":a=Math.abs(t);break}this.getInterface("Result").value=a},e}(l["Node"]),tt=Q,et=function(t){function e(){var e=t.call(this)||this;return e.type="OutputNode",e.name=e.type,e.addInputInterface("Input","any"),e.addOption("Label","InputOption"),e}return s["c"](e,t),e.prototype.calculate=function(){var t=this.getInterface("Input").value;this.state.result=t},e}(l["Node"]),nt=et,at=function(t){function e(){var e=t.call(this)||this;return e.type="StringListNode",e.name=e.type,e.addInputInterface("Index","IntegerOption",0,{type:"number"}),e.addOption("Strings","StringListOption","String 1\nString 2"),e.addOutputInterface("String",{type:"string"}),e}return s["c"](e,t),e.prototype.calculate=function(){var t=this.getOptionValue("Strings").split("\n"),e=Math.floor(this.getInterface("Index").value),n="";t.length>=1&&(n=e<0?t[0]:e>=t.length?t[t.length-1]:t[e]),this.getInterface("String").value=n},e}(l["Node"]),rt=at,ot="return {\n    output: this.input\n};",it=function(t){function e(){var e=t.call(this)||this;return e.type="FunctionNode",e.name=e.type,e.calcFunction=null,e.addOption("Edit Function","ButtonOption",ot,"FunctionSidebarOption"),e.addInput("input"),e.addOutput("output"),e.hooks.load.tap(e,function(t){for(var n=0,a=Array.from(e.interfaces.keys());n<a.length;n++){var r=a[n];e.removeInterface(r)}return Object.entries(t.customInterfaces).forEach(function(t){var n=t[0],a=t[1],r=a;r.isInput?e.addInputInterface(n,void 0,void 0,{type:"any",id:r.id}):e.addOutputInterface(n,{type:"any",id:r.id})}),t}),e.hooks.save.tap(e,function(t){return t.customInterfaces={},e.interfaces.forEach(function(e,n){t.customInterfaces[n]={isInput:e.isInput,id:e.id}}),t}),e}return s["c"](e,t),e.prototype.addInput=function(t){this.addInputInterface(t,void 0,void 0,{type:"any"})},e.prototype.addOutput=function(t){this.addOutputInterface(t,{type:"any"})},e.prototype.renameInterface=function(t,e){var n=this.interfaces.get(t);n&&(this.interfaces.set(e,n),this.interfaces.delete(t),this.events.addInterface.emit(n))},e.prototype.removeInterface=function(e){t.prototype.removeInterface.call(this,e)},e.prototype.prepare=function(){var t=this.getOptionValue("Edit Function");this.calcFunction=new Function(t)},e.prototype.calculate=function(){var t=this;if(this.calcFunction){var e={};Object.keys(this.inputInterfaces).forEach(function(n){e[n]=t.interfaces.get(n).value});var n=this.calcFunction.call(e);Object.keys(n).map(function(e){t.outputInterfaces[e]&&(t.interfaces.get(e).value=n[e])})}},e}(l["Node"]),st=it,ut=function(t){t.getInterface("Output").value=t.getOptionValue("Value")},ct=new l["NodeBuilder"]("BooleanValueNode").addOption("Value","CheckboxOption",!1).addOutputInterface("Output",{type:"boolean"}).onCalculate(ut).build(),lt=new l["NodeBuilder"]("NumberValueNode").addOption("Value","NumberOption",0).addOutputInterface("Output",{type:"number"}).onCalculate(ut).build(),pt=new l["NodeBuilder"]("StringValueNode").addOption("Value","InputOption","").addOutputInterface("Output",{type:"string"}).onCalculate(ut).build(),dt=new l["NodeBuilder"]("IndexValueNode").addOutputInterface("Index",{type:"number"}).onCalculate(function(t){t.getInterface("Index").value=t.state.index}).build();function ht(){var t=new l["Editor"],e=new p["InterfaceTypePlugin"];return t.use(e),Object.keys(a).forEach(function(e){t.registerNodeType(e,a[e],"Value")}),t.registerNodeType("UniformNode",m,"Random"),t.registerNodeType("NormalNode",y,"Random"),t.registerNodeType("ExponentialNode",C,"Random"),t.registerNodeType("CustomNode",R,"Random"),t.registerNodeType("DiscreteNode",L,"Random"),t.registerNodeType("PercentageNode",j,"Random"),t.registerNodeType("IfNode",z,"Conditional"),t.registerNodeType("SwitchNode",U,"Conditional"),t.registerNodeType("FunctionNode",st),t.registerNodeType("LogicNode",J),t.registerNodeType("BooleanNode",G),t.registerNodeType("ConstraintNode",Y),t.registerNodeType("MathNode",tt),t.registerNodeType("StringListNode",rt),t.registerNodeType("OutputNode",nt),e.addType("number","cyan").addType("string","crimson").addType("boolean","lightgreen").addType("any","white").addConversion("number","string",String).addConversion("number","boolean",function(t){return!!t}).addConversion("number","any",function(t){return t}).addConversion("string","number",parseFloat).addConversion("string","any",function(t){return t}).addConversion("boolean","number",function(t){return t?1:0}).addConversion("boolean","string",String).addConversion("boolean","any",function(t){return t}).addConversion("any","number",parseFloat).addConversion("any","string",String).addConversion("any","boolean",Boolean),t}var ft=n("3cb0"),vt=n.n(ft),bt=function(){function t(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t}(),mt=bt,gt=function(){function t(t){this.workers=[],this.jobsDone=0,this.workersActive=0,this.totalJobs=0,this.results=[],this.events={progress:new l["BaklavaEvent"],error:new l["BaklavaEvent"]},this.editor=t}return t.prototype.setWorkerCount=function(t){var e=this;if(t>this.workers.length){var n=t-this.workers.length;console.log("Spawning "+n+" workers");for(var a=function(t){var n=new vt.a;n.addEventListener("message",function(t){return e.handleWorkerMessage(n,t)}),r.workers.push(n)},r=this,o=0;o<n;o++)a(o)}else if(t<this.workers.length){var i=this.workers.length-t;console.log("Terminating "+i+" workers");for(o=0;o<i;o++)this.workers.pop().terminate()}},t.prototype.getWorkerCount=function(){return this.workers.length},t.prototype.run=function(t){this.calculationPromise=new mt;var e=this.workers.length;if(e<=0)return Promise.reject("No active workers");this.totalJobs=0;for(var n=[],a=0;a<e;a++)n.push(0);while(this.totalJobs<t){var r=t-this.totalJobs;if(r<e)for(a=0;a<r;a++)n[a]++,this.totalJobs++;else{var o=Math.floor(r/e);for(a=0;a<e;a++)n[a]+=o,this.totalJobs+=o}}var i=0,s=[];for(a=0;a<e;a++)s.push({start:i,end:i+n[a]-1}),i+=n[a];this.results=[],this.jobsDone=0;var u=JSON.stringify(this.editor.save());for(a=0;a<this.workers.length;a++){var c=this.workers[a];c.postMessage({editorState:u,startIndex:s[a].start,endIndex:s[a].end}),this.workersActive++}return this.calculationPromise.promise},t.prototype.cancel=function(){var t=this.getWorkerCount();this.setWorkerCount(0),this.setWorkerCount(t),this.calculationPromise.reject(new Error("Cancelled by user"))},t.prototype.handleWorkerMessage=function(t,e){switch(e.data.type){case"data":this.onData(e.data.data);break;case"error":this.onError(e.data.error);break}},t.prototype.onData=function(t){var e=this;0!==t.length&&(t.forEach(function(t){return e.results.push(t)}),this.jobsDone+=t.length,this.events.progress.emit({current:this.jobsDone,total:this.totalJobs}),this.jobsDone>=this.totalJobs&&(this.calculationPromise&&this.calculationPromise.resolve(this.results),this.results=[]))},t.prototype.onError=function(t){this.events.error.emit(t),this.workersActive--,0===this.workersActive&&this.calculationPromise&&this.calculationPromise.reject(t)},t}(),yt=n("0c30"),It=n("0048"),Ct=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h3",[t._v("Inputs")]),t._l(t.node.inputInterfaces,function(e,a){return n("interface-view",{key:a,staticClass:"mt-3",attrs:{name:a},on:{remove:function(e){return t.remove(a)},rename:function(e){return t.renameInput(a,e)}}})}),n("button",{staticClass:"dark-button mt-3 w-100",on:{click:t.addInput}},[t._v("Add Input")]),n("h3",{staticClass:"mt-3"},[t._v("Function")]),n("code-editor",{attrs:{value:t.value},on:{input:function(e){return t.$emit("input",e)}}}),n("h3",{staticClass:"mt-3"},[t._v("Outputs")]),t._l(t.node.outputInterfaces,function(e,a){return n("interface-view",{key:a,staticClass:"mt-3",attrs:{name:a},on:{remove:function(e){return t.remove(a)},rename:function(e){return t.renameOutput(a,e)}}})}),n("button",{staticClass:"dark-button mt-3 w-100",on:{click:t.addOutput}},[t._v("Add Output")])],2)},Ot=[],jt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"d-flex align-items-center"},[t.editmode?n("dark-input",{staticClass:"flex-grow-1",model:{value:t.tempname,callback:function(e){t.tempname=e},expression:"tempname"}}):n("div",{staticClass:"flex-grow-1"},[t._v(t._s(t.name))]),n("button",{staticClass:"dark-button ml-2 pl-2 pr-2",on:{click:t.toggle}},[t._v(t._s(t.editmode?"Save":"Edit"))]),n("button",{staticClass:"dark-button ml-2 pl-2 pr-2",on:{click:function(e){return t.$emit("remove")}}},[t._v("Remove")])],1)},kt=[],xt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.editmode=!1,e.tempname="",e}return s["c"](e,t),e.prototype.toggle=function(){this.editmode?(this.editmode=!1,this.$emit("rename",this.tempname)):(this.tempname=this.name,this.editmode=!0)},s["b"]([Object(u["c"])()],e.prototype,"name",void 0),e=s["b"]([Object(u["a"])({components:{DarkInput:c["InputOption"]}})],e),e}(u["e"]),wt=xt,Nt=wt,Mt=n("0c7c"),Pt=Object(Mt["a"])(Nt,jt,kt,!1,null,null,null),Dt=Pt.exports,_t=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s["c"](e,t),e.prototype.mounted=function(){var t=this;this.node.events.addInterface.addListener(this,function(){t.$forceUpdate()}),this.node.events.removeInterface.addListener(this,function(){t.$forceUpdate()})},e.prototype.addInput=function(){this.node.addInput("Input"+Object.keys(this.node.inputInterfaces).length)},e.prototype.addOutput=function(){this.node.addOutput("Output"+Object.keys(this.node.outputInterfaces).length)},e.prototype.remove=function(t){this.node.removeInterface(t)},e.prototype.renameInput=function(t,e){this.node.renameInterface(t,e)},e.prototype.renameOutput=function(t,e){this.node.renameInterface(t,e)},s["b"]([Object(u["c"])()],e.prototype,"node",void 0),s["b"]([Object(u["c"])()],e.prototype,"value",void 0),e=s["b"]([Object(u["a"])({components:{InterfaceView:Dt,CodeEditor:function(){return n.e("chunk-b3fd6b88").then(n.bind(null,"21fb"))}}})],e),e}(u["e"]),St=_t,Vt=St,Et=Object(Mt["a"])(Vt,Ct,Ot,!1,null,null,null),Rt=Et.exports,At=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s["c"](e,t),e.prototype.render=function(t){var e=this;return t("textarea",{directives:[{name:"model",value:this.value,expression:"value"}],staticClass:"w-100",attrs:{rows:"6"},domProps:{value:this.value},on:{input:function(t){e.$emit("input",t.target.value)}}})},s["b"]([Object(u["c"])({type:String,default:""})],e.prototype,"value",void 0),e=s["b"]([Object(u["a"])({template:'<textarea v-model="value" class="w-100" rows="10"></textarea>'})],e),e}(u["e"]),$t=At,Bt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"dark-button mt-3 w-100",on:{click:t.onClick}},[t._v(t._s(t.name))])},Lt=[],Tt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s["c"](e,t),e.prototype.onClick=function(){this.node.onButtonClick(this.name)},s["b"]([Object(u["c"])()],e.prototype,"node",void 0),s["b"]([Object(u["c"])()],e.prototype,"name",void 0),e=s["b"]([u["a"]],e),e}(u["e"]),zt=Tt,Ft=zt,Ut=Object(Mt["a"])(Ft,Bt,Lt,!1,null,null,null),Wt=Ut.exports,Ht=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h3",[t._v("Custom Distribution")]),n("select-option",{model:{value:t.selectValue,callback:function(e){t.selectValue=e},expression:"selectValue"}}),n("custom-random",{attrs:{loadedPoints:t.value.points,min:t.min,max:t.max,mode:t.selectValue.selected},on:{pointsUpdated:t.updatePoints}})],1)},Jt=[],qt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"chart-container",staticStyle:{position:"relative",width:"100%",height:"70vh","max-height":"1000px"}},[n("canvas",{ref:"customCanvas",on:{mousedown:t.mouseDownHandler,mousemove:t.mouseMoveHandler,mouseup:t.mouseUpHandler,mouseleave:t.mouseUpHandler,contextmenu:function(t){t.preventDefault()}}})])},Xt=[],Gt=n("30ef"),Zt=n.n(Gt),Yt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.canvas=null,e.context=null,e.points=[],e.draggedPoint=null,e.startPoint=null,e.endPoint=null,e.mousePosition=[0,0],e.textColor="white",e.axisColor="rgba(100,100,100,0.8)",e.gridColor="rgba(100,100,100,0.3)",e.curveColor="rgba(200,200,200,1)",e.digits=1,e.pointRadius=7,e.clicked=!1,e.options={type:"scatter",data:{datasets:[{label:"Probability Distribution",data:e.chartData,borderColor:e.curveColor,backgroundColor:e.areaColor,fill:!0,pointRadius:e.pointRadius,pointHitRadius:e.pointRadius,pointHoverRadius:e.pointRadius+2,showLine:!0,cubicInterpolationMode:"monotone"}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{yAxes:[{ticks:{fontColor:e.textColor,beginAtZero:!0,min:0,max:100,stepSize:10,callback:function(t,e,n){return""}},gridLines:{color:e.gridColor,zeroLineColor:e.axisColor}}],xAxes:[{ticks:{fontColor:e.textColor,beginAtZero:!0,min:0,max:100,stepSize:10,callback:function(t,n,a){return Math.round((t/100*(e.max-e.min)+e.min)*Math.pow(10,e.digits))/Math.pow(10,e.digits)}},gridLines:{color:e.gridColor,zeroLineColor:e.axisColor}}]},legend:{labels:{fontColor:e.textColor}},elements:{point:{borderColor:"white",backgroundColor:"#C3C3C3"}},tooltips:{callbacks:{label:function(t,n){var a=t.xLabel?t.xLabel:"0",r="(";return r+=Math.round((parseFloat(a)/100*(e.max-e.min)+e.min)*Math.pow(10,e.digits))/Math.pow(10,e.digits),r+=")",r}}},animation:{duration:0},hover:{animationDuration:0},responsiveAnimationDuration:0}},e}return s["c"](e,t),e.prototype.onModeChanged=function(){switch(this.mode){case"monotone":this.chart.data.datasets[0].cubicInterpolationMode="monotone",this.chart.data.datasets[0].lineTension=1;break;default:this.chart.data.datasets[0].cubicInterpolationMode="default",this.chart.data.datasets[0].lineTension=0;break}this.update()},e.prototype.mounted=function(){this.canvas=this.$refs.customCanvas,this.canvas.width=1e3,this.canvas.height=1e3,this.context=this.canvas.getContext("2d"),this.chart=new Zt.a(this.context,this.options),this.setupPoints()},e.prototype.setupPoints=function(){this.points=[];var t=this.points;this.loadedPoints.forEach(function(e){e[0]>=0&&e[0]<=100&&e[1]>=0&&e[1]<=100&&t.push({x:e[0],y:e[1]})});var e=null,n=null;t.forEach(function(t){e||0!==t.x||(e=t),n||100!==t.x||(n=t)}),e||(e={x:0,y:0},t.push(e)),n||(n={x:100,y:0},t.push(n)),this.startPoint=e,this.endPoint=n,this.setChartData(t),this.update()},e.prototype.setChartData=function(t){var e=this.chart.data.datasets;if(!(e&&e.length>0))throw new Error("Undefined dataset");e.forEach(function(e){e.data=t})},e.prototype.update=function(){this.chart.update()},e.prototype.mouseDownHandler=function(t){var e=this;t.preventDefault(),t.stopPropagation();var n=this.chart.getElementAtEvent(t)[0];if(0===t.button&&n&&(this.draggedPoint=this.points[n._index]),2===t.button&&n){var a=this.points[n._index];a!==this.startPoint&&a!==this.endPoint&&this.points.splice(n._index,1)}if(0===t.button)if(this.clicked){this.clicked=!1;var r=this.getPointFromChart(t);r.x>=0&&r.x<=100&&r.y>=0&&r.y<=100&&this.orderedInsert(this.points,r)}else this.clicked=!0,setTimeout(function(){e.clicked=!1},500);this.update()},e.prototype.orderedInsert=function(t,e){var n=0,a=t.length,r=a;while(r>n&&e.x<t[r-1].x)t[r]=t[r-1],r-=1;return t[r]=e,r},e.prototype.mouseMoveHandler=function(t){if(this.draggedPoint){var e=this.getPointFromChart(t),n=.001;if(e.y=e.y<0?0:e.y,e.y=e.y>100?100:e.y,e.x=e.x<0?0+n:e.x,e.x=e.x>100?100-n:e.x,this.draggedPoint===this.startPoint||this.draggedPoint===this.endPoint)this.draggedPoint.y=e.y;else{var a=this.points.indexOf(this.draggedPoint);if(a>0&&a<this.points.length-1)if(this.points[a-1].x>e.x){var r=this.points[a];this.points[a]=this.points[a-1],this.points[a-1]=r}else if(this.points[a+1].x<e.x){r=this.points[a];this.points[a]=this.points[a+1],this.points[a+1]=r}else this.points[a].x+=n;this.draggedPoint.x=e.x,this.draggedPoint.y=e.y}this.update()}},e.prototype.mouseUpHandler=function(t){this.draggedPoint=null,this.$emit("pointsUpdated",this.points.map(function(t){return[t.x,t.y]}))},e.prototype.getPointFromChart=function(t){var e=this.chart.scales,n=e["x-axis-1"],a=n.getValueForPixel(t.offsetX),r=e["y-axis-1"],o=r.getValueForPixel(t.offsetY);return{x:a,y:o}},Object.defineProperty(e.prototype,"chartData",{get:function(){for(var t=this.loadedPoints,e={},n=[],a=0,r=t.length;a<r;a++){var o=t[a].join("|");if(!e[o]){var i={x:t[a][0],y:t[a][1]};n.push(i),e[o]=!0}}return n},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"areaColor",{get:function(){var t=new RegExp(/rgba\((\d*),(\d*),(\d*),(\d*)\)/,"gi").exec(this.curveColor);return t?"rgba("+t[1]+","+t[2]+","+t[3]+",0.1)":"rgba(255,255,255,255)"},enumerable:!0,configurable:!0}),s["b"]([Object(u["c"])()],e.prototype,"value",void 0),s["b"]([Object(u["c"])()],e.prototype,"loadedPoints",void 0),s["b"]([Object(u["c"])({default:"monotone"})],e.prototype,"mode",void 0),s["b"]([Object(u["c"])()],e.prototype,"min",void 0),s["b"]([Object(u["c"])()],e.prototype,"max",void 0),s["b"]([Object(u["f"])("mode")],e.prototype,"onModeChanged",null),s["b"]([Object(u["f"])("min"),Object(u["f"])("max")],e.prototype,"update",null),e=s["b"]([u["a"]],e),e}(u["e"]),Kt=Yt,Qt=Kt,te=(n("28be"),Object(Mt["a"])(Qt,qt,Xt,!1,null,null,null)),ee=te.exports,ne=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.width=800,e.selectValue={selected:e.value.mode,items:["monotone","linear"]},e.minInterface=e.node.getInterface("Min"),e.maxInterface=e.node.getInterface("Max"),e.discreteInterface=e.node.getInterface("Discrete"),e}return s["c"](e,t),e.prototype.onSelectValueChange=function(){this.value.mode=this.selectValue.selected},Object.defineProperty(e.prototype,"mode",{get:function(){return this.selectValue.selected},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"min",{get:function(){return this.minInterface.value},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){return this.maxInterface.value},enumerable:!0,configurable:!0}),e.prototype.updatePoints=function(t){this.value.points=t},s["b"]([Object(u["c"])()],e.prototype,"node",void 0),s["b"]([Object(u["c"])()],e.prototype,"value",void 0),s["b"]([Object(u["f"])("selectValue")],e.prototype,"onSelectValueChange",null),e=s["b"]([Object(u["a"])({components:{SelectOption:c["SelectOption"],CustomRandom:ee}})],e),e}(u["e"]),ae=ne,re=ae,oe=Object(Mt["a"])(re,Ht,Jt,!1,null,null,null),ie=oe.exports,se=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h3",[t._v("Discrete Distribution")]),n("discrete-random",{attrs:{loadedValues:t.value.values,min:t.min,max:t.max},on:{valuesUpdated:t.updateValues}})],1)},ue=[],ce=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"chart-container",staticStyle:{position:"relative",width:"100%",height:"70vh","max-height":"1000px"}},[n("canvas",{ref:"discreteCanvas",on:{mousedown:t.mouseDownHandler,mousemove:t.mouseMoveHandler,mouseup:t.mouseUpHandler,mouseleave:t.mouseUpHandler,contextmenu:function(t){t.preventDefault()}}})])},le=[],pe=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.canvas=null,e.context=null,e.values=[],e.lastMousePos={x:0,y:0},e.textColor="white",e.axisColor="rgba(100,100,100,0.8)",e.gridColor="rgba(100,100,100,0.3)",e.barColor="rgba(200,200,200,1)",e.defaultValue=1,e.LMBClicked=!1,e.digits=1,e.options={type:"bar",data:{labels:e.chartLabels,datasets:[{label:"Discrete Probability Distribution",data:e.values,borderColor:e.barColor,backgroundColor:e.areaColor,borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{yAxes:[{ticks:{fontColor:e.textColor,beginAtZero:!0,min:0,max:100,stepSize:10,callback:function(t,e,n){return""}}}],xAxes:[{ticks:{fontColor:e.textColor,beginAtZero:!0,min:0,max:100,stepSize:10,callback:function(t,n,a){return Math.round(t*Math.pow(10,e.digits)/Math.pow(10,e.digits))}}}]},tooltips:{callbacks:{title:function(){return""},label:function(t,e){var n=t.xLabel?t.xLabel:"0",a="(";return a+=n,a+=")",a}}},legend:{labels:{fontColor:e.textColor}},animation:{duration:0},hover:{animationDuration:0},responsiveAnimationDuration:0}},e}return s["c"](e,t),e.prototype.onMinChanged=function(t,e){if(t<e)for(var n=t;n<e;n++)this.values.splice(0,0,this.defaultValue);else if(t>e){var a=t-e;this.values.splice(0,a)}this.update()},e.prototype.onMaxChanged=function(t,e){if(t>e)for(var n=e;n<t;n++)this.values.push(this.defaultValue);else if(t<e){var a=e-t;this.values.splice(t,a)}this.update()},e.prototype.mounted=function(){this.canvas=this.$refs.discreteCanvas,this.canvas.width=1e3,this.canvas.height=1e3,this.context=this.canvas.getContext("2d"),this.chart=new Zt.a(this.context,this.options),this.setupPoints()},e.prototype.setupPoints=function(){var t=this;this.values=[],this.loadedValues.forEach(function(e){var n=e<0?0:e>100?100:e;t.values.push(n)});var e=this.values.length,n=this.max-this.min+1;if(n<e)this.values.splice(n-1,e-n);else if(n>e)for(var a=n-e,r=0;r<a;r++)this.values.push(1);this.setChartData(this.values),this.update()},e.prototype.setChartData=function(t){var e=this.chart.data.datasets;e&&e.length>0&&(e[0].data=t)},e.prototype.update=function(){this.chart.data.labels=this.chartLabels,this.chart.data.datasets[0].data=this.values,this.chart.update()},e.prototype.setBars=function(t){var e,n,a=this.getPointFromChart(t),r=this.lastMousePos;r.x<=a.x?(e=r,n=a):(e=a,n=r);for(var o=e.x,i=n.x,s=e.y,u=n.y,c=i-o===0?0:(u-s)/(i-o),l=s-c*o,p=o;p<=i;p++)this.values[p]=Math.max(Math.min(c*p+l,100),0);this.lastMousePos=a},e.prototype.setBarToMouse=function(t){t.y=t.y<0?0:t.y,t.y=t.y>100?100:t.y,t.x=t.x<0?0:t.x,t.x=t.x>this.values.length-1?this.values.length-1:t.x,this.values[Math.floor(t.x)]=t.y,this.update()},e.prototype.mouseDownHandler=function(t){if(t.preventDefault(),t.stopPropagation(),0===t.button){this.LMBClicked=!0;var e=this.getPointFromChart(t);this.setBarToMouse(e),this.lastMousePos=e}this.update()},e.prototype.mouseMoveHandler=function(t){this.LMBClicked&&(this.setBars(t),this.chart.update())},e.prototype.mouseUpHandler=function(t){0===t.button&&(this.LMBClicked=!1),this.$emit("valuesUpdated",this.values)},e.prototype.getPointFromChart=function(t){var e=this.chart.scales,n=e["x-axis-0"],a=n.getValueForPixel(t.offsetX),r=e["y-axis-0"],o=r.getValueForPixel(t.offsetY);return{x:parseInt(a,10),y:parseInt(o,10)}},Object.defineProperty(e.prototype,"chartLabels",{get:function(){for(var t=[],e=this.min;e<=this.max;e++)t.push(e.toString());return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"areaColor",{get:function(){var t=new RegExp(/rgba\((\d*),(\d*),(\d*),(\d*)\)/,"gi").exec(this.barColor);return t?"rgba("+t[1]+","+t[2]+","+t[3]+",0.1)":"rgba(255,255,255,255)"},enumerable:!0,configurable:!0}),s["b"]([Object(u["c"])()],e.prototype,"value",void 0),s["b"]([Object(u["c"])()],e.prototype,"loadedValues",void 0),s["b"]([Object(u["c"])()],e.prototype,"min",void 0),s["b"]([Object(u["c"])()],e.prototype,"max",void 0),s["b"]([Object(u["f"])("min")],e.prototype,"onMinChanged",null),s["b"]([Object(u["f"])("max")],e.prototype,"onMaxChanged",null),e=s["b"]([u["a"]],e),e}(u["e"]),de=pe,he=de,fe=(n("c1df1"),Object(Mt["a"])(he,ce,le,!1,null,null,null)),ve=fe.exports,be=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.minInterface=e.node.getInterface("Min"),e.maxInterface=e.node.getInterface("Max"),e}return s["c"](e,t),Object.defineProperty(e.prototype,"min",{get:function(){return this.minInterface.value},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){return this.maxInterface.value},enumerable:!0,configurable:!0}),e.prototype.updateValues=function(t){this.value.values=t},s["b"]([Object(u["c"])()],e.prototype,"node",void 0),s["b"]([Object(u["c"])()],e.prototype,"value",void 0),e=s["b"]([Object(u["a"])({components:{DiscreteRandom:ve}})],e),e}(u["e"]),me=be,ge=me,ye=Object(Mt["a"])(ge,se,ue,!1,null,null,null),Ie=ye.exports,Ce=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("nav",{staticClass:"navbar navbar-dark bg-secondary navbar-expand-lg"},[n("div",{staticClass:"navbar-brand"},[t._v("ML Training Data Generator")]),t._m(0),n("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarCollapse"}},[n("ul",{staticClass:"navbar-nav mr-auto ml-2"},[n("li",{staticClass:"nav-item dropdown"},[n("a",{staticClass:"nav-link dropdown-toggle",attrs:{id:"actionDropdown",role:"button","data-toggle":"dropdown",href:"#"}},[t._v("Actions"),n("div",{staticClass:"dropdown-menu"},[n("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.$emit("action","load")}}},[t._v("Load")]),n("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.$emit("action","save")}}},[t._v("Save")]),n("div",{staticClass:"dropdown-divider"}),n("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.$emit("action","calculate")}}},[t._v("Calculate")]),n("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.$emit("action","export")}}},[t._v("Export to CSV")])])])]),n("li",{staticClass:"nav-item",class:{active:"editor"===t.$route.name}},[n("router-link",{staticClass:"nav-link",attrs:{to:{name:"editor"}}},[t._v("Editor")])],1),n("li",{staticClass:"nav-item",class:{active:"settings"===t.$route.name}},[n("router-link",{staticClass:"nav-link",attrs:{to:{name:"settings"}}},[t._v("Settings")])],1),n("li",{staticClass:"nav-item",class:{active:"preview"===t.$route.name}},[n("router-link",{staticClass:"nav-link",attrs:{to:{name:"preview"}}},[t._v("Preview Data")])],1),n("li",{staticClass:"nav-item"},[n("router-link",{staticClass:"nav-link",attrs:{to:{name:"visualisation"}}},[t._v("Visualisation")])],1)]),n("div",{staticClass:"text-light"},[t._v(t._s(t.loadedRows)+" rows loaded")])])])},Oe=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarCollapse"}},[n("span",{staticClass:"navbar-toggler-icon"})])}],je=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s["c"](e,t),s["b"]([Object(u["c"])({default:0})],e.prototype,"loadedRows",void 0),e=s["b"]([u["a"]],e),e}(u["e"]),ke=je,xe=ke,we=Object(Mt["a"])(xe,Ce,Oe,!1,null,null,null),Ne=we.exports,Me=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal fade",class:{show:t.open},style:{display:t.doDisplay?"block":"none"}},[n("div",{staticClass:"modal-dialog modal-dialog-centered"},[n("div",{staticClass:"modal-content"},[t._m(0),n("div",{staticClass:"modal-body"},[n("div",{staticClass:"progress"},[n("div",{staticClass:"progress-bar",style:{width:t.progress+"%"}})])]),n("div",{staticClass:"modal-footer"},[n("button",{staticClass:"btn btn-outline-danger",on:{click:function(e){return t.$emit("cancel")}}},[t._v("Cancel")])])])])])},Pe=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal-header"},[n("h4",[t._v("Calculating")])])}],De=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.doDisplay=!1,e}return s["c"](e,t),e.prototype.onOpenChange=function(){var t=this;this.open?this.doDisplay=!0:setTimeout(function(){t.doDisplay=!1},500)},s["b"]([Object(u["c"])()],e.prototype,"open",void 0),s["b"]([Object(u["c"])()],e.prototype,"progress",void 0),s["b"]([Object(u["f"])("open")],e.prototype,"onOpenChange",null),e=s["b"]([u["a"]],e),e}(u["e"]),_e=De,Se=_e,Ve=Object(Mt["a"])(Se,Me,Pe,!1,null,null,null),Ee=Ve.exports,Re=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"toast",staticStyle:{position:"absolute",top:"80px",right:"10px","min-width":"350px"}},[n("div",{staticClass:"toast-header"},[n("strong",{staticClass:"mr-auto"},[t._v(t._s(t.header))]),n("button",{staticClass:"ml-2 mb-1 close",attrs:{type:"button"},on:{click:t.close}},[n("span",[t._v("")])])]),n("div",{staticClass:"toast-body"},[t._t("default")],2)])},Ae=[],$e=n("1157"),Be=n.n($e),Le=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.internalValue=!1,e}return s["c"](e,t),e.prototype.mounted=function(){var t=this;this.jqel=Be()(this.$el),this.jqel.toast({delay:1e4}),this.jqel.on("hidden.bs.toast",function(){t.internalValue=!1,t.$emit("input",!1)}),this.jqel.on("shown.bs.toast",function(){t.internalValue=!0})},e.prototype.onValueChanged=function(){this.internalValue!==this.value&&(this.value?this.jqel.toast("show"):this.jqel.toast("hide"))},e.prototype.close=function(){this.$emit("input",!1)},s["b"]([Object(u["c"])({type:Boolean})],e.prototype,"value",void 0),s["b"]([Object(u["c"])({type:String,default:"Notification"})],e.prototype,"header",void 0),s["b"]([Object(u["f"])("value",{immediate:!0})],e.prototype,"onValueChanged",null),e=s["b"]([u["a"]],e),e}(u["e"]),Te=Le,ze=Te,Fe=Object(Mt["a"])(ze,Re,Ae,!1,null,null,null),Ue=Fe.exports,We=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bg-dark text-light"},[n("div",{staticClass:"container mt-3"},[n("form",[n("div",{staticClass:"form-group"},[n("label",[t._v("Number of data points to generate")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.tempBatchCount,expression:"tempBatchCount"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.tempBatchCount},on:{input:function(e){e.target.composing||(t.tempBatchCount=e.target.value)}}})]),n("div",{staticClass:"form-group"},[n("label",[t._v("Worker count (similar to threads)")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.tempWorkerCount,expression:"tempWorkerCount"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.tempWorkerCount},on:{input:function(e){e.target.composing||(t.tempWorkerCount=e.target.value)}}})]),n("div",{staticClass:"form-group"},[n("label",[t._v("CSV field delimiter")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.tempCsvDelimiter,expression:"tempCsvDelimiter"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.tempCsvDelimiter},on:{input:function(e){e.target.composing||(t.tempCsvDelimiter=e.target.value)}}})]),n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.save}},[t._v("Save")]),n("button",{staticClass:"btn btn-outline-light ml-2",attrs:{type:"button"},on:{click:t.back}},[t._v("Cancel")])])])])},He=[],Je=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tempBatchCount="0",e.tempWorkerCount="0",e.tempCsvDelimiter="",e}return s["c"](e,t),e.prototype.updateSettings=function(){this.tempBatchCount=this.value.batchCount,this.tempWorkerCount=this.value.workerCount,this.tempCsvDelimiter=this.value.csvDelimiter},e.prototype.save=function(){this.$emit("input",{batchCount:parseInt(this.tempBatchCount,10),workerCount:parseInt(this.tempWorkerCount,10),csvDelimiter:this.tempCsvDelimiter}),this.back()},e.prototype.back=function(){this.$router.back()},s["b"]([Object(u["c"])()],e.prototype,"value",void 0),s["b"]([Object(u["f"])("value",{immediate:!0})],e.prototype,"updateSettings",null),e=s["b"]([u["a"]],e),e}(u["e"]),qe=Je,Xe=qe,Ge=Object(Mt["a"])(Xe,We,He,!1,null,null,null),Ze=Ge.exports,Ye=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bg-dark text-light"},[n("div",{staticClass:"container mt-3"},[n("button",{staticClass:"btn btn-primary mb-4",attrs:{type:"button"},on:{click:t.calculate}},[t._v("Recalculate")]),t.isEmpty?n("div",{staticClass:"alert alert-dark"},[t._v("No data to display.")]):n("table",{staticClass:"table table-dark"},[n("thead",[n("tr",t._l(t.headers,function(e){return n("th",{key:e},[t._v(t._s(e))])}),0)]),n("tbody",t._l(t.rows,function(e,a){return n("tr",{key:a},t._l(e,function(e,a){return n("td",{key:a},[t._v(t._s(e))])}),0)}),0)])])])},Ke=[],Qe=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.previewData=[],e}return s["c"](e,t),e.prototype.mounted=function(){this.calculate()},e.prototype.calculate=function(){return s["a"](this,void 0,void 0,function(){var t,e;return s["d"](this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),t=this,[4,this.app.calculator.run(20)];case 1:return t.previewData=n.sent(),[3,3];case 2:return e=n.sent(),this.$emit("error",e),[3,3];case 3:return[2]}})})},Object.defineProperty(e.prototype,"headers",{get:function(){return this.previewData.length>0?Object.keys(this.previewData[0]):[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rows",{get:function(){return this.previewData.length>0?this.previewData.map(function(t){return Object.values(t)}):[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isEmpty",{get:function(){return!this.previewData||0===this.previewData.length||this.previewData.every(function(t){return 0===Object.entries(t).length})},enumerable:!0,configurable:!0}),s["b"]([Object(u["b"])("app")],e.prototype,"app",void 0),e=s["b"]([u["a"]],e),e}(u["e"]),tn=Qe,en=tn,nn=Object(Mt["a"])(en,Ye,Ke,!1,null,null,null),an=nn.exports,rn=function(t){function e(){var e=t.call(this)||this;return e.editor=ht(),e.calculator=new gt(e.editor),e.plugin=new yt["ViewPlugin"],e.calculating=!1,e.progress=0,e.results=[],e.settings={batchCount:100,workerCount:4,csvDelimiter:";"},e.errorMessage="",e.showErrorNotification=!1,e.app=e,e.editor.use(e.plugin),e.editor.use(new c["OptionPlugin"]),e.editor.use(new It["Engine"](!1)),e.plugin.registerOption("FunctionSidebarOption",Rt),e.plugin.registerOption("StringListOption",$t),e.plugin.registerOption("CustomRandomOption",ie),e.plugin.registerOption("DiscreteRandomOption",Ie),e.plugin.registerOption("CustomButtonOption",Wt),e.calculator.events.progress.addListener(e,function(t){return e.onCalculationProgress(t)}),window.onbeforeunload=function(){return"Please ensure you have saved everything.\nDo you want to leave the page?"},e}return s["c"](e,t),e.prototype.mounted=function(){var t=this;this.calculator.setWorkerCount(this.settings.workerCount),this.editor.hooks.save.tap(this,function(e){return e.mlsettings=t.settings,e}),this.editor.hooks.load.tap(this,function(e){return e.mlsettings&&(t.settings=e.mlsettings),e}),this.plugin.hooks.renderNode.tap(this,function(t){return"OutputNode"===t.data.type&&(t.$el.style.backgroundColor="#5379B5CC"),t})},e.prototype.onAction=function(t){switch(t){case"load":this.load();break;case"save":this.save();break;case"calculate":this.calculate();break;case"export":this.export();break}},e.prototype.calculate=function(){return s["a"](this,void 0,void 0,function(){var t,e;return s["d"](this,function(n){switch(n.label){case 0:this.calculating=!0,this.progress=0,n.label=1;case 1:return n.trys.push([1,3,,4]),t=this,[4,this.calculator.run(this.settings.batchCount)];case 2:return t.results=n.sent(),[3,4];case 3:return e=n.sent(),this.onError(e),[3,4];case 4:return this.calculating=!1,[2]}})})},e.prototype.onCalculationProgress=function(t){this.progress=100*t.current/t.total},e.prototype.cancelCalculation=function(){this.calculator.cancel()},e.prototype.onError=function(t){this.errorMessage=t,this.showErrorNotification=!0},e.prototype.save=function(){var t=JSON.stringify(this.editor.save()),e=new Blob([t],{type:"application/json"}),n=document.createElement("a");n.download="project.json",n.href=window.URL.createObjectURL(e),n.click()},e.prototype.load=function(){var t=this.$refs.fileinput;t.click()},e.prototype.loadFile=function(t){var e=this,n=t.target.files[0],a=new FileReader;a.onload=function(t){return s["a"](e,void 0,void 0,function(){return s["d"](this,function(e){return this.editor.load(JSON.parse(t.target.result)),[2]})})},a.readAsText(n),this.$refs.fileinput.type="text",this.$refs.fileinput.type="file"},e.prototype.export=function(){var t=this;if(0===this.results.length)return this.errorMessage="No rows loaded. Please calculate first",void(this.showErrorNotification=!0);var e=Object.keys(this.results[0]).join(this.settings.csvDelimiter)+"\n";this.results.forEach(function(n){e+=Object.values(n).join(t.settings.csvDelimiter)+"\n"}),e=e.slice(0,-1);var n=new Blob([e],{type:"text/csv"}),a=document.createElement("a");a.download="data.csv",a.href=window.URL.createObjectURL(n),a.click()},e.prototype.onSettingsUpdate=function(t){this.settings=t,this.calculator.setWorkerCount(t.workerCount)},s["b"]([Object(u["d"])("app")],e.prototype,"app",void 0),e=s["b"]([Object(u["a"])({components:{Navbar:Ne,Settings:Ze,Visualisation:function(){return n.e("chunk-128095d2").then(n.bind(null,"0287"))},Preview:an,ProgressModal:Ee,Notification:Ue}})],e),e}(u["e"]),on=rn,sn=on,un=Object(Mt["a"])(sn,o,i,!1,null,null,null),cn=un.exports,ln=(n("87e6"),n("3c1f"),n("f507"),n("8c4f"));r["default"].use(ln["a"]);var pn=new ln["a"]({routes:[{path:"/settings",name:"settings"},{path:"/visualisation",name:"visualisation"},{path:"/preview",name:"preview"},{path:"/",name:"editor"}]});r["default"].config.productionTip=!1,r["default"].use(yt["BaklavaVuePlugin"]),new r["default"]({router:pn,render:function(t){return t(cn)}}).$mount("#app")}});
//# sourceMappingURL=app.9cfafcd4.js.map