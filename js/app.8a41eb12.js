(function(t){function e(e){for(var o,i,s=e[0],u=e[1],c=e[2],l=0,p=[];l<s.length;l++)i=s[l],r[i]&&p.push(r[i][0]),r[i]=0;for(o in u)Object.prototype.hasOwnProperty.call(u,o)&&(t[o]=u[o]);d&&d(e);while(p.length)p.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],o=!0,i=1;i<n.length;i++){var s=n[i];0!==r[s]&&(o=!1)}o&&(a.splice(e--,1),t=u(u.s=n[0]))}return t}var o={},i={app:0},r={app:0},a=[];function s(t){return u.p+"js/"+({}[t]||t)+"."+{"chunk-0d0426bd":"b6f2f288","chunk-b3fd6b88":"b56778a0"}[t]+".js"}function u(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.e=function(t){var e=[],n={"chunk-0d0426bd":1};i[t]?e.push(i[t]):0!==i[t]&&n[t]&&e.push(i[t]=new Promise(function(e,n){for(var o="css/"+({}[t]||t)+"."+{"chunk-0d0426bd":"82174a45","chunk-b3fd6b88":"31d6cfe0"}[t]+".css",r=u.p+o,a=document.getElementsByTagName("link"),s=0;s<a.length;s++){var c=a[s],l=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(l===o||l===r))return e()}var p=document.getElementsByTagName("style");for(s=0;s<p.length;s++){c=p[s],l=c.getAttribute("data-href");if(l===o||l===r)return e()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=e,d.onerror=function(e){var o=e&&e.target&&e.target.src||r,a=new Error("Loading CSS chunk "+t+" failed.\n("+o+")");a.request=o,delete i[t],d.parentNode.removeChild(d),n(a)},d.href=r;var h=document.getElementsByTagName("head")[0];h.appendChild(d)}).then(function(){i[t]=0}));var o=r[t];if(0!==o)if(o)e.push(o[2]);else{var a=new Promise(function(e,n){o=r[t]=[e,n]});e.push(o[2]=a);var c,l=document.createElement("script");l.charset="utf-8",l.timeout=120,u.nc&&l.setAttribute("nonce",u.nc),l.src=s(t),c=function(e){l.onerror=l.onload=null,clearTimeout(p);var n=r[t];if(0!==n){if(n){var o=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src,a=new Error("Loading chunk "+t+" failed.\n("+o+": "+i+")");a.type=o,a.request=i,n[1](a)}r[t]=void 0}};var p=setTimeout(function(){c({type:"timeout",target:l})},12e4);l.onerror=l.onload=c,document.head.appendChild(l)}return Promise.all(e)},u.m=t,u.c=o,u.d=function(t,e,n){u.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},u.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},u.t=function(t,e){if(1&e&&(t=u(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)u.d(n,o,function(e){return t[e]}.bind(null,o));return n},u.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return u.d(e,"a",e),e},u.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},u.p="",u.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var p=0;p<c.length;p++)e(c[p]);var d=l;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},"28be":function(t,e,n){"use strict";var o=n("b98e"),i=n.n(o);i.a},"3c1f":function(t,e,n){},"3cb0":function(t,e,n){t.exports=function(){return new Worker(n.p+"b0ae04ab06dc42a5acca.worker.js")}},b98e:function(t,e,n){},cd49:function(t,e,n){"use strict";n.r(e);var o={};n.r(o),n.d(o,"BooleanValueNode",function(){return X}),n.d(o,"NumberValueNode",function(){return K}),n.d(o,"StringValueNode",function(){return Q}),n.d(o,"IndexValueNode",function(){return Z});var i=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"d-flex flex-column",staticStyle:{width:"100%",height:"100%"}},[n("navbar",{staticClass:"flex-shrink",attrs:{loadedRows:t.loadedRows},on:{action:t.onAction}}),"settings"===t.$route.name?n("settings",{staticClass:"flex-fill",model:{value:t.settings,callback:function(e){t.settings=e},expression:"settings"}}):"visualisation"===t.$route.name?n("visualisation",{staticClass:"flex-fill",attrs:{calculator:t.calculator}}):"preview"===t.$route.name?n("preview",{staticClass:"flex-fill"}):n("baklava-editor",{staticClass:"flex-fill",attrs:{plugin:t.plugin}}),n("progress-modal",{attrs:{open:t.calculating,progress:t.progress}}),n("input",{ref:"fileinput",staticStyle:{display:"none"},attrs:{type:"file",accept:"application/json"},on:{change:t.loadFile}})],1)},a=[],s=n("9ab4"),u=n("60a3"),c=n("9f16"),l=n("dac5"),p=n("261c"),d=n("9e67"),h=n.n(d),f=function(){function t(t,e){this.randomInstance=new h.a,this.seed=t,this.discrete=e,this.seed&&(this.randomInstance=new h.a(this.seed))}return t.prototype.uniform=function(t,e){return this.finalize(this.rng(t).floating(e))},t.prototype.normal=function(t,e){return this.finalize(this.rng(t).normal(e))},t.prototype.rng=function(t){return this.seed&&void 0!==t?new h.a(this.seed+t):this.randomInstance},t.prototype.finalize=function(t){return this.discrete?Math.round(t):t},t}(),v=f,m=function(t){function e(){var e=t.call(this)||this;return e.type="UniformNode",e.name=e.type,e.rng=null,e.addOutputInterface("Output",{type:"number"}),e.addInputInterface("Seed","InputOption","",{type:"string"}),e.addInputInterface("Min","NumberOption",0,{type:"number"}),e.addInputInterface("Max","NumberOption",10,{type:"number"}),e.addInputInterface("Discrete","CheckboxOption",!0,{type:"boolean"}),e}return s["c"](e,t),e.prototype.prepare=function(){var t=this.getInterface("Seed").value,e=this.getInterface("Discrete").value;this.rng=new v(t,e)},e.prototype.calculate=function(){var t=this.getInterface("Min").value,e=this.getInterface("Max").value;this.getInterface("Output").value=this.rng.uniform(this.state.index,{min:t,max:e,fixed:8})},e}(l["Node"]),g=m,b=function(t){function e(){var e=t.call(this)||this;return e.type="NormalNode",e.name=e.type,e.rng=null,e.addOutputInterface("Output",{type:"number"}),e.addInputInterface("Seed","InputOption","",{type:"string"}),e.addInputInterface("Mean","NumberOption",0,{type:"number"}),e.addInputInterface("Std. Dev.","NumberOption",10,{type:"number"}),e.addInputInterface("Discrete","CheckboxOption",!0,{type:"boolean"}),e}return s["c"](e,t),e.prototype.prepare=function(){var t=this.getInterface("Seed").value,e=this.getInterface("Discrete").value;this.rng=new v(t,e)},e.prototype.calculate=function(){var t=this.getInterface("Mean").value,e=this.getInterface("Std. Dev.").value;this.getInterface("Output").value=this.rng.normal(this.state.index,{mean:t,dev:e})},e}(l["Node"]),y=b,x=function(t){function e(){var e=t.call(this)||this;return e.type="ExponentialNode",e.name=e.type,e.rng=null,e.addOutputInterface("Output",{type:"number"}),e.addInputInterface("Seed","InputOption","",{type:"string"}),e.addInputInterface("Lambda","NumberOption",10,{type:"number"}),e.addInputInterface("Discrete","CheckboxOption",!0,{type:"boolean"}),e}return s["c"](e,t),e.prototype.prepare=function(){var t=this.getInterface("Seed").value,e=this.getInterface("Discrete").value;this.rng=new v(t,e)},e.prototype.calculate=function(){var t=this.getInterface("Lambda").value,e=this.rng.uniform(this.state.index,{fixed:8,min:0,max:1});this.getInterface("Output").value=Math.log(1-e)/-t},e}(l["Node"]),w=x,O=function(t){function e(){var e=t.call(this)||this;return e.type="PercentageNode",e.name=e.type,e.rng=null,e.addInputInterface("Value","NumberOption",0,{type:"number"}),e.addInputInterface("Seed","InputOption","",{type:"string"}),e.addInputInterface("Percentage","NumberOption",5,{type:"number"}),e.addInputInterface("Discrete","CheckboxOption",!1,{type:"boolean"}),e.addOutputInterface("Output",{type:"number"}),e}return s["c"](e,t),e.prototype.prepare=function(){var t=this.getInterface("Seed").value;this.rng=new v(t,!1)},e.prototype.calculate=function(){var t=this.getInterface("Percentage").value,e=this.getInterface("Value").value,n=this.getInterface("Discrete").value,o=this.rng.normal(this.state.index,{mean:0,dev:t/200}),i=e+e*o;this.getInterface("Output").value=n?Math.round(i):i},e}(l["Node"]),C=O,I=function(){function t(t){this.distribution=[],this.cdf=[],this.setDistribution(t)}return t.prototype.setDistribution=function(t){var e=this;this.distribution=[],t.forEach(function(t){e.distribution.push([t[0],t[1]])})},t.prototype.calculateCdf=function(){var t=this.distribution,e=this.cdf;e.push([0,0]);for(var n=1;n<t.length;n++)e.push([t[n][0],.5*(t[n][1]+t[n-1][1])*(t[n][0]-t[n-1][0])]);for(n=1;n<e.length;n++)e[n][1]+=e[n-1][1]},t.prototype.scaleCdf=function(t){var e=this.cdf,n=t/e[e.length-1][1];e.forEach(function(t){t[1]*=n})},t.prototype.sample=function(t){if(t<0||t>1)return-1;var e=this.cdf,n=t*e[e.length-1][1],o=0;for(o=0;o<e.length;o++)if(e[o][1]>n)break;var i=(e[o-1][1]-e[o][1])/(e[o-1][0]-e[o][0]),r=(n-e[o][1])/i+e[o][0];return r/e[e.length-1][0]},t}(),k=I,P=function(){function t(t){this.accuracy=1,this.xs=t.map(function(t){return t[0]}),this.ys=t.map(function(t){return t[1]}),this.prepare()}return t.prototype.prepare=function(){var t,e=this.xs.slice(),n=this.ys.slice(),o=e.length;if(o!==n.length)throw new Error("Need an equal count of xs and ys.");if(0===o)throw new Error("Empty array.");var i=[];for(t=0;t<o;t++)i.push(t);i.sort(function(t,n){return e[t]<e[n]?-1:1});var r=e,a=n;for(e=[],n=[],t=0;t<o;t++)e.push(+r[i[t]]),n.push(+a[i[t]]);var s=[],u=[],c=[];for(t=0;t<o-1;t++){var l=e[t+1]-e[t],p=n[t+1]-n[t];u.push(l),s.push(p),c.push(p/l)}var d=[c[0]];for(t=0;t<u.length-1;t++){var h=c[t],f=c[t+1];if(h*f<=0)d.push(0);else{l=u[t];var v=u[t+1],m=l+v;d.push(3*m/((m+v)/h+(m+l)/f))}}d.push(c[c.length-1]);var g=[],b=[];for(t=0;t<d.length-1;t++){var y=d[t],x=(h=c[t],1/u[t]);m=y+d[t+1]-h-h;g.push((h-y-m)*x),b.push(m*x*x)}this.xs=e,this.ys=n,this.c1s=d,this.c2s=g,this.c3s=b},t.prototype.interpolate=function(t){var e=this.xs,n=this.ys,o=this.c1s,i=this.c2s,r=this.c3s,a=e.length-1;if(t===e[a])return n[a];var s=0,u=0,c=r.length-1;while(s<=c){u=Math.floor(.5*(s+c));var l=e[u];if(l<t)s=u+1;else{if(!(l>t))return n[u];c=u-1}}a=Math.max(0,c);var p=t-e[a],d=p*p;return n[a]+o[a]*p+i[a]*d+r[a]*p*d},t.prototype.curve=function(){for(var t=[],e=this.xs[0],n=this.xs[this.xs.length-1],o=e;o<=n;o+=this.accuracy)t.push([o,this.interpolate(o)]);return t},t}(),S=P,M=function(){function t(t){this.xs=t.map(function(t){return t[0]}),this.ys=t.map(function(t){return t[1]}),this.prepare()}return t.prototype.prepare=function(){var t,e=this.xs.slice(),n=this.ys.slice(),o=e.length;if(o!==n.length)throw new Error("Need an equal count of xs and ys.");if(0===o)throw new Error("Empty array.");var i=[];for(t=0;t<o;t++)i.push(t);i.sort(function(t,n){return e[t]<e[n]?-1:1});var r=e,a=n;for(e=[],n=[],t=0;t<o;t++)e.push(+r[i[t]]),n.push(+a[i[t]]);this.xs=e,this.ys=n},t.prototype.interpolate=function(t){var e=this.xs,n=this.ys;if(t>=e[e.length-1])return n[n.length-1];var o=0;for(o=0;o<e.length;o++)if(t<e[o])break;var i=(n[o-1]-n[o])/(e[o-1]-e[o]),r=i*t+n[o]-i*e[o];return r},t.prototype.curve=function(){for(var t=this.xs,e=(this.ys,[]),n=0;n<t[t.length-1];n++)e.push([n,this.interpolate(n)]);return e},t}(),N=M,j=function(){function t(t,e){if(this.mode="before",this.xs=t.map(function(t){return t[0]}),this.ys=t.map(function(t){return t[1]}),"mid"!==e&&"after"!==e&&"before"!==e)throw new Error("Invalid mode");this.mode=e,this.prepare()}return t.prototype.prepare=function(){var t,e=this.xs.slice(),n=this.ys.slice(),o=e.length;if(o!==n.length)throw new Error("Need an equal count of xs and ys.");if(0===o)throw new Error("Empty array.");var i=[];for(t=0;t<o;t++)i.push(t);i.sort(function(t,n){return e[t]<e[n]?-1:1});var r=e,a=n;for(e=[],n=[],t=0;t<o;t++)e.push(+r[i[t]]),n.push(+a[i[t]]);this.xs=e,this.ys=n},t.prototype.interpolate=function(t){var e=this.xs,n=this.ys;if(t>=e[e.length-1])return n[n.length-1];var o=0;for(o=0;o<e.length;o++)if(t<e[o])break;var i=0;switch(this.mode){case"mid":var r=(e[o]+e[o-1])/2;i=t>=r?n[o]:n[o-1];break;case"after":i=t<e[o]?n[o]:n[o+1];break;case"before":i=t<e[o]?n[o-1]:n[o];break}return i},t.prototype.curve=function(){var t=this.xs,e=this.ys,n=[],o=0;for(o=0;o<t.length-1;o++)switch(n.push([t[o],e[o]]),this.mode){case"mid":var i=(t[o]+t[o+1])/2;n.push([i,e[o]]),n.push([i,e[o+1]]);break;case"after":n.push([t[o],e[o+1]]);break;case"before":n.push([t[o+1],e[o]]);break}return n.push([t[o],e[o]]),n},t}(),_=j,D=function(t){function e(){var e=t.call(this)||this;return e.type="CustomNode",e.name=e.type,e.rng=null,e.defaultPoints=[[0,100],[900,100]],e.defaultMode="curveMonotone",e.curve=null,e.randomSampler=null,e.addOutputInterface("Output",{type:"number"}),e.addInputInterface("Seed","InputOption","",{type:"string"}),e.addInputInterface("Min","NumberOption",0,{type:"number"}),e.addInputInterface("Max","NumberOption",10,{type:"number"}),e.addInputInterface("Discrete","CheckboxOption",!0,{type:"boolean"}),e.addOption("Custom Distribution","ButtonOption",{points:e.defaultPoints,mode:e.defaultMode},"CustomRandomOption"),e}return s["c"](e,t),e.prototype.prepare=function(){var t=this.getInterface("Seed").value,e=this.getOptionValue("Custom Distribution");switch(this.rng=new v(t,!1),e.mode){case"curveMonotone":this.curve=new S(e.points);break;case"curveLinear":this.curve=new N(e.points);break;case"curveStepMid":this.curve=new _(e.points,"mid");break;case"curveStepAfter":this.curve=new _(e.points,"after");break;case"curveStepBefore":this.curve=new _(e.points,"before");break;default:throw new Error("Invalid mode")}var n=this.curve.curve();this.randomSampler=new k(n),this.randomSampler.calculateCdf()},e.prototype.calculate=function(){var t=this.getInterface("Min").value,e=this.getInterface("Max").value,n=this.getInterface("Discrete").value,o=this.rng.uniform(this.state.index,{fixed:8,min:0,max:1}),i=this.randomSampler.sample(o)*(e-t)+t;this.getInterface("Output").value=n?Math.round(i):i},e}(l["Node"]),E=D,B=["==",">","<",">=","<="],T=function(t){function e(){var e=t.call(this)||this;return e.type="BooleanNode",e.name=e.type,e.addInputInterface("Value 1","NumberOption",0,{type:"number"}),e.addInputInterface("Value 2","NumberOption",0,{type:"number"}),e.addInputInterface("Use Integer Values","CheckboxOption",!1,{type:"boolean"}),e.addInputInterface("Invert Output","CheckboxOption",!1,{type:"boolean"}),e.addOption("Operation","SelectOption",{selected:"==",items:B}),e.addOutputInterface("Result",{type:"boolean"}),e}return s["c"](e,t),e.prototype.calculate=function(){var t=this.getInterface("Value 1").value,e=this.getInterface("Value 2").value,n=this.getInterface("Use Integer Values").value,o=this.getInterface("Invert Output").value,i=this.getOptionValue("Operation").selected,r=!1;switch(i){case"==":r=n?Math.floor(t)===Math.floor(e):t===e;break;case">":r=n?Math.floor(t)>Math.floor(e):t>e;break;case"<":r=n?Math.floor(t)<Math.floor(e):t<e;break;case">=":r=n?Math.floor(t)>=Math.floor(e):t>=e;break;case"<=":r=n?Math.floor(t)<=Math.floor(e):t<=e;break}o&&(r=!r),this.getInterface("Result").value=r},e}(l["Node"]),V=T,$=function(t){function e(){var e=t.call(this)||this;return e.type="ConstraintNode",e.name=e.type,e.addInputInterface("Is Valid","CheckboxOption",!0,{type:"boolean"}),e}return s["c"](e,t),e}(l["Node"]),R=$,A=["Add","Subtract","Multiply","Divide","Sine","Cosine","Tangent","Arcsine","Arccosine","Arctangent","Power","Logarithm","Minimum","Maximum","Round","Modulo","Absolute"],L=function(t){function e(){var e=t.call(this)||this;return e.type="MathNode",e.name=e.type,e.addInputInterface("Value 1","NumberOption",0,{type:"number"}),e.addInputInterface("Value 2","NumberOption",0,{type:"number"}),e.addOption("Operation","SelectOption",{selected:"Add",items:A}),e.addOutputInterface("Result",{type:"number"}),e}return s["c"](e,t),e.prototype.calculate=function(){var t=this.getInterface("Value 1").value,e=this.getInterface("Value 2").value,n=this.getOptionValue("Operation").selected,o=0;switch(n){case"Add":o=t+e;break;case"Subtract":o=t-e;break;case"Multiply":o=t*e;break;case"Divide":o=0!==e?t/e:0;break;case"Sine":o=Math.sin(t);break;case"Cosine":o=Math.cos(t);break;case"Tangent":o=Math.tan(t);break;case"Arcsine":o=Math.asin(t);break;case"Arccosine":o=Math.acos(t);break;case"Arctangent":o=Math.atan(t);break;case"Power":o=Math.pow(t,e);break;case"Logarithm":o=Math.log(t)/Math.log(e);break;case"Minimum":o=Math.min(t,e);break;case"Maximum":o=Math.max(t,e);break;case"Round":o=Math.round(t);break;case"Modulo":o=t%e;break;case"Absolute":o=Math.abs(t);break}this.getInterface("Result").value=o},e}(l["Node"]),F=L,U=function(t){function e(){var e=t.call(this)||this;return e.type="OutputNode",e.name=e.type,e.addInputInterface("Input","any"),e.addOption("Label","InputOption"),e.addOption("Value","TextOption"),e}return s["c"](e,t),e.prototype.calculate=function(){var t=this.getInterface("Input").value;this.state.result=t},e}(l["Node"]),W=U,J=function(t){function e(){var e=t.call(this)||this;return e.type="StringListNode",e.name=e.type,e.addInputInterface("Index","NumberOption",0,{type:"number"}),e.addOption("Strings","StringListOption","String 1\nString 2"),e.addOutputInterface("String",{type:"string"}),e}return s["c"](e,t),e.prototype.calculate=function(){var t=this.getOptionValue("Strings").split("\n"),e=Math.floor(this.getInterface("Index").value),n="";e>=0&&e<t.length&&(n=t[e]),this.getInterface("String").value=n},e}(l["Node"]),H=J,q="return {\n    output: this.input\n};",z=function(t){function e(){var e=t.call(this)||this;return e.type="FunctionNode",e.name=e.type,e.calcFunction=null,e.addOption("Edit Function","ButtonOption",q,"FunctionSidebarOption"),e.addInput("input"),e.addOutput("output"),e.hooks.load.tap(e,function(t){return Object.entries(t.customInterfaces).forEach(function(t){var n=t[0],o=t[1],i=o;i.isInput?e.addInputInterface(n,void 0,void 0,{type:"any",id:i.id}):e.addOutputInterface(n,{type:"any",id:i.id})}),t}),e.hooks.save.tap(e,function(t){return t.customInterfaces={},e.interfaces.forEach(function(e,n){t.customInterfaces[n]={isInput:e.isInput,id:e.id}}),t}),e}return s["c"](e,t),e.prototype.addInput=function(t){this.addInputInterface(t,void 0,void 0,{type:"any"})},e.prototype.addOutput=function(t){this.addOutputInterface(t,{type:"any"})},e.prototype.renameInterface=function(t,e){var n=this.interfaces.get(t);n&&(this.interfaces.set(e,n),this.interfaces.delete(t),this.events.addInterface.emit(n))},e.prototype.removeInterface=function(e){t.prototype.removeInterface.call(this,e)},e.prototype.prepare=function(){var t=this.getOptionValue("Edit Function");this.calcFunction=new Function(t)},e.prototype.calculate=function(){var t=this;if(this.calcFunction){var e={};Object.keys(this.inputInterfaces).forEach(function(n){e[n]=t.interfaces.get(n).value});var n=this.calcFunction.call(e);Object.keys(n).map(function(e){t.outputInterfaces[e]&&(t.interfaces.get(e).value=n[e])})}},e}(l["Node"]),Y=z,G=function(t){t.getInterface("Output").value=t.getOptionValue("Value")},X=new l["NodeBuilder"]("BooleanValueNode").addOption("Value","CheckboxOption",!1).addOutputInterface("Output",{type:"boolean"}).onCalculate(G).build(),K=new l["NodeBuilder"]("NumberValueNode").addOption("Value","NumberOption",0).addOutputInterface("Output",{type:"number"}).onCalculate(G).build(),Q=new l["NodeBuilder"]("StringValueNode").addOption("Value","InputOption","").addOutputInterface("Output",{type:"string"}).onCalculate(G).build(),Z=new l["NodeBuilder"]("IndexValueNode").addOutputInterface("Index",{type:"number"}).onCalculate(function(t){t.getInterface("Index").value=t.state.index}).build();function tt(){var t=new l["Editor"],e=new p["InterfaceTypePlugin"];return t.use(e),Object.keys(o).forEach(function(e){t.registerNodeType(e,o[e],"Value")}),t.registerNodeType("UniformNode",g,"Random"),t.registerNodeType("NormalNode",y,"Random"),t.registerNodeType("ExponentialNode",w,"Random"),t.registerNodeType("CustomNode",E,"Random"),t.registerNodeType("PercentageNode",C,"Random"),t.registerNodeType("FunctionNode",Y),t.registerNodeType("BooleanNode",V),t.registerNodeType("ConstraintNode",R),t.registerNodeType("MathNode",F),t.registerNodeType("StringListNode",H),t.registerNodeType("OutputNode",W),e.addType("number","cyan").addType("string","crimson").addType("boolean","lightgreen").addType("any","white").addConversion("number","string",String).addConversion("number","boolean",function(t){return!!t}).addConversion("number","any",function(t){return t}).addConversion("string","number",parseFloat).addConversion("string","any",function(t){return t}).addConversion("boolean","number",function(t){return t?1:0}).addConversion("boolean","string",String).addConversion("boolean","any",function(t){return t}).addConversion("any","number",parseFloat).addConversion("any","string",String).addConversion("any","boolean",Boolean),t}var et=n("3cb0"),nt=n.n(et),ot=function(){function t(t){this.results=[],this.workers=[],this.jobsDone=0,this.totalJobs=0,this.events={progress:new l["BaklavaEvent"],finished:new l["BaklavaEvent"]},this.editor=t}return t.prototype.setWorkerCount=function(t){var e=this;if(t>this.workers.length){var n=t-this.workers.length;console.log("Spawning "+n+" workers");for(var o=function(t){var n=new nt.a;n.addEventListener("message",function(t){return e.handleWorkerMessage(n,t)}),i.workers.push(n)},i=this,r=0;r<n;r++)o(r)}else if(t<this.workers.length){var a=this.workers.length-t;console.log("Terminating "+a+" workers");for(r=0;r<a;r++)this.workers.pop().terminate()}},t.prototype.run=function(t){var e=this.workers.length;if(e<=0)console.warn("No active workers");else{this.totalJobs=0;for(var n=[],o=0;o<e;o++)n.push(0);while(this.totalJobs<t){var i=t-this.totalJobs;if(i<e)for(o=0;o<i;o++)n[o]++,this.totalJobs++;else{var r=Math.floor(i/e);for(o=0;o<e;o++)n[o]+=r,this.totalJobs+=r}}var a=0,s=[];for(o=0;o<e;o++)s.push({start:a,end:a+n[o]-1}),a+=n[o];this.results=[],this.jobsDone=0;var u=JSON.stringify(this.editor.save());for(o=0;o<this.workers.length;o++){var c=this.workers[o];c.postMessage({editorState:u,startIndex:s[o].start,endIndex:s[o].end})}}},t.prototype.reset=function(){this.results=[]},t.prototype.handleWorkerMessage=function(t,e){this.onData(e.data)},t.prototype.onData=function(t){var e=this;0!==t.length&&(t.forEach(function(t){return e.results.push(t)}),this.jobsDone+=t.length,this.events.progress.emit({current:this.jobsDone,total:this.totalJobs}),this.jobsDone>=this.totalJobs&&this.events.finished.emit())},t}(),it=n("0c30"),rt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h3",[t._v("Inputs")]),t._l(t.node.inputInterfaces,function(e,o){return n("interface-view",{key:o,staticClass:"mt-3",attrs:{name:o},on:{remove:function(e){return t.remove(o)},rename:function(e){return t.renameInput(o,e)}}})}),n("button",{staticClass:"dark-button mt-3 w-100",on:{click:t.addInput}},[t._v("Add Input")]),n("h3",{staticClass:"mt-3"},[t._v("Function")]),n("code-editor",{attrs:{value:t.value},on:{input:function(e){return t.$emit("input",e)}}}),n("h3",{staticClass:"mt-3"},[t._v("Outputs")]),t._l(t.node.outputInterfaces,function(e,o){return n("interface-view",{key:o,staticClass:"mt-3",attrs:{name:o},on:{remove:function(e){return t.remove(o)},rename:function(e){return t.renameOutput(o,e)}}})}),n("button",{staticClass:"dark-button mt-3 w-100",on:{click:t.addOutput}},[t._v("Add Output")])],2)},at=[],st=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"d-flex align-items-center"},[t.editmode?n("dark-input",{staticClass:"flex-grow-1",model:{value:t.tempname,callback:function(e){t.tempname=e},expression:"tempname"}}):n("div",{staticClass:"flex-grow-1"},[t._v(t._s(t.name))]),n("button",{staticClass:"dark-button ml-2 pl-2 pr-2",on:{click:t.toggle}},[t._v(t._s(t.editmode?"Save":"Edit"))]),n("button",{staticClass:"dark-button ml-2 pl-2 pr-2",on:{click:function(e){return t.$emit("remove")}}},[t._v("Remove")])],1)},ut=[],ct=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.editmode=!1,e.tempname="",e}return s["c"](e,t),e.prototype.toggle=function(){this.editmode?(this.editmode=!1,this.$emit("rename",this.tempname)):(this.tempname=this.name,this.editmode=!0)},s["b"]([Object(u["c"])()],e.prototype,"name",void 0),e=s["b"]([Object(u["a"])({components:{DarkInput:c["InputOption"]}})],e),e}(u["e"]),lt=ct,pt=lt,dt=n("0c7c"),ht=Object(dt["a"])(pt,st,ut,!1,null,null,null),ft=ht.exports,vt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s["c"](e,t),e.prototype.mounted=function(){var t=this;this.node.events.addInterface.addListener(this,function(){t.$forceUpdate()}),this.node.events.removeInterface.addListener(this,function(){t.$forceUpdate()})},e.prototype.addInput=function(){this.node.addInput("Input"+Object.keys(this.node.inputInterfaces).length)},e.prototype.addOutput=function(){this.node.addOutput("Output"+Object.keys(this.node.outputInterfaces).length)},e.prototype.remove=function(t){this.node.removeInterface(t)},e.prototype.renameInput=function(t,e){this.node.renameInterface(t,e)},e.prototype.renameOutput=function(t,e){this.node.renameInterface(t,e)},s["b"]([Object(u["c"])()],e.prototype,"node",void 0),s["b"]([Object(u["c"])()],e.prototype,"value",void 0),e=s["b"]([Object(u["a"])({components:{InterfaceView:ft,CodeEditor:function(){return n.e("chunk-b3fd6b88").then(n.bind(null,"21fb"))}}})],e),e}(u["e"]),mt=vt,gt=mt,bt=Object(dt["a"])(gt,rt,at,!1,null,null,null),yt=bt.exports,xt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s["c"](e,t),e.prototype.render=function(t){var e=this;return t("textarea",{directives:[{name:"model",value:this.value,expression:"value"}],staticClass:"w-100",attrs:{rows:"6"},domProps:{value:this.value},on:{input:function(t){e.$emit("input",t.target.value)}}})},s["b"]([Object(u["c"])({type:String,default:""})],e.prototype,"value",void 0),e=s["b"]([Object(u["a"])({template:'<textarea v-model="value" class="w-100" rows="10"></textarea>'})],e),e}(u["e"]),wt=xt,Ot=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h3",[t._v("Custom Distribution")]),n("select-option",{model:{value:t.selectValue,callback:function(e){t.selectValue=e},expression:"selectValue"}}),n("custom-random",{ref:"customRandom",attrs:{loadedPoints:t.value.points,min:t.min,max:t.max,mode:t.selectValue.selected},on:{pointsUpdated:t.updatePoints}})],1)},Ct=[],It=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("canvas",{ref:"canvas",on:{mousedown:t.mouseDownHandler,mousemove:t.mouseMoveHandler,mouseup:t.mouseUpHandler,mouseleave:t.mouseUpHandler,contextmenu:function(t){t.preventDefault()}}})},kt=[],Pt=function(){function t(t,e){this.canvas=null,this.context=null,this.canvas=t,this.context=e}return t.prototype.drawCurve=function(t,e){var n=this;this.context.beginPath(),this.context.moveTo(t[0][0],t[0][1]),t.forEach(function(t){n.context.lineTo(t[0],t[1])}),this.context.strokeStyle=e,this.context.stroke(),this.context.closePath()},t.prototype.drawFilledCurve=function(t,e,n,o){var i=this;this.context.beginPath(),this.context.moveTo(e.left,e.bottom),t.forEach(function(t){i.context.lineTo(t[0],t[1])}),this.context.lineTo(e.right,e.bottom),this.context.save(),this.context.clip(),this.context.fillStyle=o,this.context.fillRect(e.left,e.top,e.right-e.left,e.bottom-e.top),this.context.restore(),this.context.strokeStyle=n,this.context.stroke(),this.context.closePath()},t.prototype.drawPoints=function(t,e,n,o){var i=this;t.forEach(function(t,r){i.context.beginPath(),i.context.arc(t[0],t[1],o,0,2*Math.PI),i.context.fillStyle=n,e&&e[0]===t[0]&&e[1]===t[1]?i.context.fill():i.context.stroke(),i.context.closePath()})},t.prototype.drawAxis=function(t,e){this.context.beginPath(),this.context.moveTo(t.left,t.bottom),this.context.lineTo(t.left,t.top),this.context.moveTo(0,t.bottom),this.context.lineTo(t.right,t.bottom),this.context.strokeStyle=e,this.context.stroke(),this.context.closePath()},t.prototype.drawMarkers=function(t,e,n,o){this.context.font="30px Arial",this.context.textAlign="right",this.context.fillStyle="white",this.context.fillText(e.toString(),o.right,o.bottom+30),this.context.textAlign="left",this.context.fillText(t.toString(),o.left,o.bottom+30),this.context.textAlign="left",this.context.fillText("x: "+n.toString(),o.left,o.top)},t.prototype.drawLabel=function(t,e,n,o,i){this.context.font="30px Arial",this.context.fillStyle=o,this.context.textAlign=i,this.context.fillText(t,e,n)},t.prototype.drawGrid=function(t,e,n,o){this.context.beginPath();for(var i=t.left;i<=t.right;i+=e)this.context.moveTo(i,t.bottom),this.context.lineTo(i,t.top);for(var r=t.top;r<=t.bottom;r+=n)this.context.moveTo(t.left,r),this.context.lineTo(t.right,r);this.context.strokeStyle=o,this.context.stroke(),this.context.closePath()},t.prototype.drawCrosshair=function(t,e){this.context.setLineDash([50,30]),this.context.beginPath(),this.context.moveTo(t,0),this.context.lineTo(t,this.canvas.height),this.context.moveTo(0,e),this.context.lineTo(this.canvas.width,e),this.context.strokeStyle="rgba(100,100,100,1)",this.context.stroke(),this.context.closePath(),this.context.setLineDash([])},t.prototype.clear=function(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},t}(),St=Pt,Mt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.canvas=null,e.context=null,e.canvasHelper=null,e.margin=50,e.points=[],e.interpolatedPoints=[],e.draggedPoint=null,e.selectedPoint=null,e.startPoint=null,e.endPoint=null,e.mousePosition=[0,0],e.curve=null,e.curveSelectionOffsetX=10,e.curveSelectionOffsetY=1e3,e.pointRadius=10,e.curveColor="rgba(250,250,250,1)",e.gridSize=20,e.gridColor="rgba(100,100,200,0.1)",e.axisColor="rgba(100,100,100,1)",e.cdfColor="rgba(190, 220, 250, 0.8",e.clicked=!1,e}return s["c"](e,t),e.prototype.onLoadedPointsChanged=function(){this.setupPoints()},e.prototype.onMinChanged=function(){this.update()},e.prototype.onMaxChanged=function(){this.update()},e.prototype.onModeChanged=function(){this.update()},e.prototype.mounted=function(){this.canvas=this.$refs.canvas,this.context=this.canvas.getContext("2d"),this.canvasHelper=new St(this.canvas,this.context),this.canvas.width=1e3,this.canvas.height=1e3,this.setupPoints()},e.prototype.setupPoints=function(){var t=this,e=[];this.loadedPoints.forEach(function(n){n[0]>=0&&n[0]<=t.editorBounds.right-t.editorBounds.left&&n[1]>=0&&n[1]<=t.editorBounds.bottom-t.editorBounds.top&&e.push(n.slice())});var n=null,o=null;e.forEach(function(e){n||0!==e[0]||(n=e),o||e[0]!==t.editorBounds.right-t.editorBounds.left||(o=e)}),n||(n=[0,0],e.push(n)),o||(o=[this.editorBounds.right-this.editorBounds.left,0],e.push(o)),this.startPoint=n,this.endPoint=o,this.points=e,this.update()},e.prototype.update=function(){var t=this.canvasHelper;switch(this.mode){case"curveMonotone":this.curve=new S(this.points);break;case"curveLinear":this.curve=new N(this.points);break;case"curveStepMid":this.curve=new _(this.points,"mid");break;case"curveStepAfter":this.curve=new _(this.points,"after");break;case"curveStepBefore":this.curve=new _(this.points,"before");break;default:throw new Error("Invalid mode")}this.interpolatedPoints=this.curve.curve(),t.clear(),t.drawAxis(this.editorBounds,this.axisColor);var e=this.x(this.mousePosition[0])/this.endPoint[0]*(this.max-this.min)+this.min;t.drawMarkers(this.min,this.max,e,this.editorBounds),t.drawGrid(this.editorBounds,this.gridSize,this.gridSize,this.gridColor);var n=this.pointsToCanvas(this.interpolatedPoints);t.drawFilledCurve(n,this.editorBounds,this.curveColor,this.areaColor);var o=this.pointsToCanvas(this.points),i=this.selectedPoint?this.mp(this.selectedPoint):null;t.drawPoints(o,i,this.curveColor,this.pointRadius);var r=new k(this.interpolatedPoints);r.calculateCdf(),r.scaleCdf(this.editorBounds.bottom-this.editorBounds.top);var a=this.pointsToCanvas(r.cdf);t.drawCurve(a,this.cdfColor),t.drawLabel("cummulative distribution function (cdf)",this.editorBounds.right,this.editorBounds.top,this.cdfColor,"right"),t.drawCrosshair(this.mousePosition[0],this.mousePosition[1])},e.prototype.mouseDownHandler=function(t){var e=this;t.preventDefault(),t.stopPropagation();var n=this.getMousePos(t),o=this.points.find(function(t){return e.distance([e.mx(t[0]),e.my(t[1])],[n[0],n[1]])<e.pointRadius});if(o&&(this.draggedPoint=o),0===t.button){var i=this.x(n[0]),r=this.curve.interpolate(i);if(Math.abs(this.my(r)-n[1])<this.curveSelectionOffsetY)if(this.clicked){this.clicked=!1;var a=[this.x(n[0]),r];this.points.find(function(t){return t[0]===a[0]&&t[1]===a[1]})||(this.points.push(a),this.update())}else this.clicked=!0,setTimeout(function(){e.clicked=!1},500)}if(2===t.button){var s=this.points.findIndex(function(t){return Math.abs(e.mx(t[0])-n[0])<e.curveSelectionOffsetX&&Math.abs(e.my(t[1])-n[1])<e.curveSelectionOffsetY});s>=0&&this.points[s]!==this.startPoint&&this.points[s]!==this.endPoint&&(this.points.splice(s,1),this.update())}},e.prototype.mouseMoveHandler=function(t){var e=this,n=this.getMousePos(t);this.draggedPoint&&(this.draggedPoint!==this.startPoint&&this.draggedPoint!==this.endPoint&&(n[0]<=this.editorBounds.left?this.draggedPoint[0]=this.x(this.editorBounds.left+.01):n[0]>=this.editorBounds.right?this.draggedPoint[0]=this.x(this.editorBounds.right-.01):this.draggedPoint[0]=this.x(n[0])),n[1]>=this.editorBounds.bottom?this.draggedPoint[1]=this.y(this.editorBounds.bottom):n[1]<=this.editorBounds.top?this.draggedPoint[1]=this.y(this.editorBounds.top):this.draggedPoint[1]=this.y(n[1]));var o=this.points.find(function(t){return Math.sqrt(Math.pow(e.mx(t[0])-n[0],2)+Math.pow(e.my(t[1])-n[1],2))<10});this.selectedPoint=o||null,this.mousePosition=n,this.update()},e.prototype.mouseUpHandler=function(t){this.draggedPoint=null,this.$emit("pointsUpdated",this.points)},e.prototype.getMousePos=function(t){var e=this.canvas.getBoundingClientRect(),n=this.canvas.width/e.width,o=this.canvas.height/e.height;return[(t.clientX-e.left)*n,(t.clientY-e.top)*o]},e.prototype.mx=function(t){return t+this.editorBounds.left},e.prototype.my=function(t){return this.editorBounds.bottom-t},e.prototype.x=function(t){return t-this.editorBounds.left},e.prototype.y=function(t){return this.editorBounds.bottom-t},e.prototype.p=function(t){return[this.x(t[0]),this.y(t[1])]},e.prototype.mp=function(t){return[this.mx(t[0]),this.my(t[1])]},e.prototype.pointsToCanvas=function(t){var e=this,n=[];return t.forEach(function(t){n.push([e.mx(t[0]),e.my(t[1])])}),n},e.prototype.distance=function(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2))},Object.defineProperty(e.prototype,"editorBounds",{get:function(){return{left:this.margin,right:this.canvas.width-this.margin,bottom:this.canvas.height-this.margin,top:this.margin}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"areaColor",{get:function(){var t=new RegExp(/rgba\((\d*),(\d*),(\d*),(\d*)\)/,"gi").exec(this.curveColor);return t?"rgba("+t[1]+","+t[2]+","+t[3]+",0.1)":"rgba(255,255,255,255)"},enumerable:!0,configurable:!0}),s["b"]([Object(u["c"])()],e.prototype,"value",void 0),s["b"]([Object(u["c"])()],e.prototype,"loadedPoints",void 0),s["b"]([Object(u["c"])({default:"curveMonotone"})],e.prototype,"mode",void 0),s["b"]([Object(u["c"])()],e.prototype,"min",void 0),s["b"]([Object(u["c"])()],e.prototype,"max",void 0),s["b"]([Object(u["f"])("loadedPoints")],e.prototype,"onLoadedPointsChanged",null),s["b"]([Object(u["f"])("min")],e.prototype,"onMinChanged",null),s["b"]([Object(u["f"])("max")],e.prototype,"onMaxChanged",null),s["b"]([Object(u["f"])("mode")],e.prototype,"onModeChanged",null),e=s["b"]([u["a"]],e),e}(u["e"]),Nt=Mt,jt=Nt,_t=(n("28be"),Object(dt["a"])(jt,It,kt,!1,null,null,null)),Dt=_t.exports,Et=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.width=800,e.selectValue={selected:e.value.mode,items:["curveMonotone","curveLinear","curveStepBefore","curveStepMid","curveStepAfter"]},e.seedInterface=e.node.getInterface("Seed"),e.minInterface=e.node.getInterface("Min"),e.maxInterface=e.node.getInterface("Max"),e.discreteInterface=e.node.getInterface("Discrete"),e}return s["c"](e,t),e.prototype.onSelectValueChange=function(){this.value.mode=this.selectValue.selected},Object.defineProperty(e.prototype,"mode",{get:function(){return this.selectValue.selected},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"seed",{get:function(){return this.seedInterface.value},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"discrete",{get:function(){return this.discreteInterface.value},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"min",{get:function(){return this.minInterface.value},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){return this.maxInterface.value},enumerable:!0,configurable:!0}),e.prototype.updatePoints=function(t){this.value.points=t},e.prototype.calculate=function(){this.$emit("calculate")},s["b"]([Object(u["c"])()],e.prototype,"node",void 0),s["b"]([Object(u["c"])()],e.prototype,"value",void 0),s["b"]([Object(u["f"])("selectValue")],e.prototype,"onSelectValueChange",null),e=s["b"]([Object(u["a"])({components:{SelectOption:c["SelectOption"],CustomRandom:Dt}})],e),e}(u["e"]),Bt=Et,Tt=Bt,Vt=Object(dt["a"])(Tt,Ot,Ct,!1,null,null,null),$t=Vt.exports,Rt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("nav",{staticClass:"navbar navbar-dark bg-secondary navbar-expand-lg"},[n("div",{staticClass:"navbar-brand"},[t._v("ML Training Data Generator")]),t._m(0),n("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarCollapse"}},[n("ul",{staticClass:"navbar-nav mr-auto ml-2"},[n("li",{staticClass:"nav-item dropdown"},[n("a",{staticClass:"nav-link dropdown-toggle",attrs:{id:"actionDropdown",role:"button","data-toggle":"dropdown",href:"#"}},[t._v("Actions"),n("div",{staticClass:"dropdown-menu"},[n("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.$emit("action","load")}}},[t._v("Load")]),n("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.$emit("action","save")}}},[t._v("Save")]),n("div",{staticClass:"dropdown-divider"}),n("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.$emit("action","calculate")}}},[t._v("Calculate")]),n("a",{staticClass:"dropdown-item",attrs:{href:"#"},on:{click:function(e){return t.$emit("action","export")}}},[t._v("Export to CSV")])])])]),n("li",{staticClass:"nav-item",class:{active:"editor"===t.$route.name}},[n("router-link",{staticClass:"nav-link",attrs:{to:{name:"editor"}}},[t._v("Editor")])],1),n("li",{staticClass:"nav-item",class:{active:"settings"===t.$route.name}},[n("router-link",{staticClass:"nav-link",attrs:{to:{name:"settings"}}},[t._v("Settings")])],1),n("li",{staticClass:"nav-item",class:{active:"preview"===t.$route.name}},[n("router-link",{staticClass:"nav-link",attrs:{to:{name:"preview"}}},[t._v("Preview Data")])],1),n("li",{staticClass:"nav-item"},[n("router-link",{staticClass:"nav-link",attrs:{to:{name:"visualisation"}}},[t._v("Visualisation")])],1)]),n("div",{staticClass:"text-light"},[t._v(t._s(t.loadedRows)+" rows loaded")])])])},At=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarCollapse"}},[n("span",{staticClass:"navbar-toggler-icon"})])}],Lt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s["c"](e,t),s["b"]([Object(u["c"])({default:0})],e.prototype,"loadedRows",void 0),e=s["b"]([u["a"]],e),e}(u["e"]),Ft=Lt,Ut=Ft,Wt=Object(dt["a"])(Ut,Rt,At,!1,null,null,null),Jt=Wt.exports,Ht=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal fade"},[n("div",{staticClass:"modal-dialog modal-dialog-centered"},[n("div",{staticClass:"modal-content"},[t._m(0),n("div",{staticClass:"modal-body"},[n("div",{staticClass:"progress"},[n("div",{staticClass:"progress-bar",style:{width:t.progress+"%"}})])])])])])},qt=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal-header"},[n("h4",[t._v("Calculating")])])}],zt=n("1157"),Yt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s["c"](e,t),e.prototype.mounted=function(){zt(this.$el).modal("hide")},e.prototype.onOpenChange=function(){var t=this;this.open?zt(this.$el).modal("show"):setTimeout(function(){return zt(t.$el).modal("hide")},500)},s["b"]([Object(u["c"])()],e.prototype,"open",void 0),s["b"]([Object(u["c"])()],e.prototype,"progress",void 0),s["b"]([Object(u["f"])("open")],e.prototype,"onOpenChange",null),e=s["b"]([u["a"]],e),e}(u["e"]),Gt=Yt,Xt=Gt,Kt=Object(dt["a"])(Xt,Ht,qt,!1,null,null,null),Qt=Kt.exports,Zt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bg-dark text-light"},[n("div",{staticClass:"container mt-3"},[n("form",[n("div",{staticClass:"form-group"},[n("label",[t._v("Number of data points to generate")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.tempBatchCount,expression:"tempBatchCount"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.tempBatchCount},on:{input:function(e){e.target.composing||(t.tempBatchCount=e.target.value)}}})]),n("div",{staticClass:"form-group"},[n("label",[t._v("Worker count (similar to threads)")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.tempWorkerCount,expression:"tempWorkerCount"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:t.tempWorkerCount},on:{input:function(e){e.target.composing||(t.tempWorkerCount=e.target.value)}}})]),n("div",{staticClass:"form-group"},[n("label",[t._v("CSV field delimiter")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.tempCsvDelimiter,expression:"tempCsvDelimiter"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.tempCsvDelimiter},on:{input:function(e){e.target.composing||(t.tempCsvDelimiter=e.target.value)}}})]),n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.save}},[t._v("Save")]),n("button",{staticClass:"btn btn-outline-light ml-2",attrs:{type:"button"},on:{click:t.back}},[t._v("Cancel")])])])])},te=[],ee=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tempBatchCount="0",e.tempWorkerCount="0",e.tempCsvDelimiter="",e}return s["c"](e,t),e.prototype.updateSettings=function(){this.tempBatchCount=this.value.batchCount,this.tempWorkerCount=this.value.workerCount,this.tempCsvDelimiter=this.value.csvDelimiter},e.prototype.save=function(){this.$emit("input",{batchCount:parseInt(this.tempBatchCount,10),workerCount:parseInt(this.tempWorkerCount,10),csvDelimiter:this.tempCsvDelimiter}),this.back()},e.prototype.back=function(){this.$router.back()},s["b"]([Object(u["c"])()],e.prototype,"value",void 0),s["b"]([Object(u["f"])("value",{immediate:!0})],e.prototype,"updateSettings",null),e=s["b"]([u["a"]],e),e}(u["e"]),ne=ee,oe=ne,ie=Object(dt["a"])(oe,Zt,te,!1,null,null,null),re=ie.exports,ae=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bg-dark text-light"},[n("div",{staticClass:"container mt-3"},[n("button",{staticClass:"btn btn-primary mb-4",attrs:{type:"button"},on:{click:t.calculate}},[t._v("Recalculate")]),t.isEmpty?n("div",{staticClass:"alert alert-dark"},[t._v("No data to display.")]):n("table",{staticClass:"table table-dark"},[n("thead",[n("tr",t._l(t.headers,function(e){return n("th",{key:e},[t._v(t._s(e))])}),0)]),n("tbody",t._l(t.rows,function(e,o){return n("tr",{key:o},t._l(e,function(e,o){return n("td",{key:o},[t._v(t._s(e))])}),0)}),0)])])])},se=[],ue=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.previewData=[],e}return s["c"](e,t),e.prototype.mounted=function(){this.app.calculator.results.length<20?this.calculate():this.calculationDone()},e.prototype.calculate=function(){var t=this;this.app.calculator.events.finished.addListener(this,function(){return t.calculationDone()}),this.app.calculator.run(20)},e.prototype.calculationDone=function(){console.log("calc done"),this.previewData=this.app.calculator.results.slice(0,20)},Object.defineProperty(e.prototype,"headers",{get:function(){return this.previewData.length>0?Object.keys(this.previewData[0]):[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rows",{get:function(){return this.previewData.length>0?this.previewData.map(function(t){return Object.values(t)}):[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isEmpty",{get:function(){return!this.previewData||0===this.previewData.length||this.previewData.every(function(t){return 0===Object.entries(t).length})},enumerable:!0,configurable:!0}),s["b"]([Object(u["b"])("app")],e.prototype,"app",void 0),e=s["b"]([u["a"]],e),e}(u["e"]),ce=ue,le=ce,pe=Object(dt["a"])(le,ae,se,!1,null,null,null),de=pe.exports,he=function(t){function e(){var e=t.call(this)||this;return e.editor=tt(),e.calculator=new ot(e.editor),e.plugin=new it["ViewPlugin"],e.calculating=!1,e.progress=0,e.loadedRows=0,e.settings={batchCount:100,workerCount:4,csvDelimiter:";"},e.visualisation=[[10,10],[20,20],[30,30],[40,40],[50,50],[60,60],[70,70]],e.app=e,e.editor.use(e.plugin),e.editor.use(new c["OptionPlugin"]),e.plugin.registerOption("FunctionSidebarOption",yt),e.plugin.registerOption("StringListOption",wt),e.plugin.registerOption("CustomRandomOption",$t),e.calculator.events.progress.addListener(e,function(t){return e.onCalculationProgress(t)}),e.calculator.events.finished.addListener(e,function(){return e.onCalculationFinished()}),e}return s["c"](e,t),e.prototype.mounted=function(){var t=this;this.calculator.setWorkerCount(this.settings.workerCount),this.editor.hooks.save.tap(this,function(e){return e.mlsettings=t.settings,e}),this.editor.hooks.load.tap(this,function(e){return e.mlsettings&&(t.settings=e.mlsettings),e})},e.prototype.onAction=function(t){switch(t){case"load":this.load();break;case"save":this.save();break;case"calculate":this.calculate();break;case"export":this.export();break}},e.prototype.calculate=function(){this.calculating=!0,this.progress=0,this.calculator.run(this.settings.batchCount)},e.prototype.onCalculationProgress=function(t){this.progress=100*t.current/t.total},e.prototype.onCalculationFinished=function(){this.calculating=!1,this.loadedRows=this.calculator.results.length},e.prototype.save=function(){var t=JSON.stringify(this.editor.save()),e=new Blob([t],{type:"application/json"}),n=document.createElement("a");n.download="project.json",n.href=window.URL.createObjectURL(e),n.click()},e.prototype.load=function(){var t=this.$refs.fileinput;t.click()},e.prototype.loadFile=function(t){var e=this,n=t.target.files[0],o=new FileReader;o.onload=function(t){return s["a"](e,void 0,void 0,function(){return s["d"](this,function(e){return this.editor.load(JSON.parse(t.target.result)),this.calculator.reset(),[2]})})},o.readAsText(n),this.$refs.fileinput.type="text",this.$refs.fileinput.type="file"},e.prototype.export=function(){var t=this;if(0!==this.calculator.results.length){var e=Object.keys(this.calculator.results[0]).join(this.settings.csvDelimiter)+"\n";this.calculator.results.forEach(function(n){e+=Object.values(n).join(t.settings.csvDelimiter)+"\n"}),e=e.slice(0,-1);var n=new Blob([e],{type:"text/csv"}),o=document.createElement("a");o.download="data.csv",o.href=window.URL.createObjectURL(n),o.click()}},e.prototype.onSettingsUpdate=function(t){this.settings=t,this.calculator.setWorkerCount(t.workerCount)},s["b"]([Object(u["d"])("app")],e.prototype,"app",void 0),e=s["b"]([Object(u["a"])({components:{Navbar:Jt,Settings:re,Visualisation:function(){return n.e("chunk-0d0426bd").then(n.bind(null,"0287"))},Preview:de,ProgressModal:Qt}})],e),e}(u["e"]),fe=he,ve=fe,me=Object(dt["a"])(ve,r,a,!1,null,null,null),ge=me.exports,be=(n("87e6"),n("3c1f"),n("f507"),n("8c4f"));i["default"].use(be["a"]);var ye=new be["a"]({routes:[{path:"/settings",name:"settings"},{path:"/visualisation",name:"visualisation"},{path:"/preview",name:"preview"},{path:"/",name:"editor"}]});i["default"].config.productionTip=!1,i["default"].use(it["BaklavaVuePlugin"]),new i["default"]({router:ye,render:function(t){return t(ge)}}).$mount("#app")}});
//# sourceMappingURL=app.8a41eb12.js.map